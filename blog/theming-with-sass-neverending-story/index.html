<!DOCTYPE html><html lang="ru"><head>  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-89748707-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-89748707-1'); </script><base href="https://denisnovikov.github.io"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="google-site-verification" content="aiV-7fBXdNhcJILKp5GXFesXJetzCgLWAbif-tZKfrY" /><meta name="yandex-verification" content="41a2ad868168b23f" /><meta name="openstat-verification" content="62f671b1eaa0d2a7ce234219685a42b3d7770961" /><meta property="op:markup_version" content="v1.0"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="application-name" content="FrontEnd Blog"><meta name="format-detection" content="telephone=no"><meta name="generator" content="jekyll"><meta name="google" content="notranslate"><meta name="rating" content="General"><meta name="referrer" content="never"><meta name="robots" content="index,follow,noodp"><meta name="subject" content="blog"><meta name="url" content="https://denisnovikov.github.io"><meta name="viewport" content="width=device-width, initial-scale=1"><title> Темизация с Sass: бесконечная история - denisnovikov.github.io</title><meta name="description" content="Создание сеточных систем и движков темизации в Sass это бесконечная история. Похоже, что в наши дни сеточных систем на основе Sass не меньше, чем фреймворков..."><link rel="alternate" hreflang="ru" href="/blog/theming-with-sass-neverending-story/" /><link rel="canonical" href="https://denisnovikov.github.io/blog/theming-with-sass-neverending-story/"><link rel="author" href="DNovikov"><link rel="me" href="https://github.com/denisnovikov" type="text/html"><link rel="me" href="mailto:dnovikov1808@gmail.com"><link href='https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|Roboto+Condensed:700&subset=latin' rel='stylesheet' type='text/css'><link rel="stylesheet" href="/assets/css/main.css"><meta property="og:url" content="https://denisnovikov.github.io/blog/theming-with-sass-neverending-story/"><meta property="og:type" content="website"><meta property="og:title" content="Темизация с Sass: бесконечная история"><meta property="og:description" content="Создание сеточных систем и движков темизации в Sass это бесконечная история"><meta property="og:site_name" content="denisnovikov.github.io"><meta property="og:locale" content="ru_RU"><meta property="article:author" content="DNovikov"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@dev_novikov"><meta name="twitter:creator" content="@dev_novikov"><meta name="twitter:url" content="https://denisnovikov.github.io/blog/theming-with-sass-neverending-story/"><meta name="twitter:title" content="Темизация с Sass: бесконечная история"><meta name="twitter:description" content="Создание сеточных систем и движков темизации в Sass это бесконечная история"><meta property="og:image" content="https://denisnovikov.github.io/assets/images/bg.svg"><meta name="twitter:image" content="https://denisnovikov.github.io/assets/images/bg.svg"><body><div id="shadow"></div><header class="main-header content-wrapper"> <input type="checkbox" id="menu-checkbox" /><nav class="center-wrapper nav-main"> <a class="blog-logo" href="/">denisnovikov.github.io</a> <a href="/about/">О проекте</a> <a href="/blog/">Все записи блога</a> <a href="/feed.xml" rel="alternate" type="application/rss+xml">RSS</a> <label for="menu-checkbox" class="toggle-button" data-open="☰" data-close="☰" onclick></label></nav></header><aside class="sidebar" role="note" style=" background-image: url( /assets/images/front-end/theming-with-sass-neverending-story/preview-theming-with-sass-neverending-story.jpeg )"><div class="cover"><div class="cover-text"><div class="heading"> <a href="/blog/#front-end">front-end</a></div><p> Создание сеточных систем и движков темизации в Sass это бесконечная история Темизация с Sass: бесконечная история</div></div><div id="switcher"></div></aside><main class="content-wrapper"><article class="post"><h1 class="post-title">Темизация с Sass: бесконечная история</h1><p class="post-meta"> <time datetime="2016-09-20">20-09-2016</time> &nbsp;/&nbsp; <span>prgssr.ru</span><div class="post-content"><p>Создание сеточных систем и движков темизации в Sass это бесконечная история. Похоже, что в наши дни сеточных систем на основе Sass не меньше, чем фреймворков JavaScript и почти у каждого разработчика есть свой способ работы с цветовыми темами в стилях.<p>В сегодняшней статье, я хочу разобрать последнюю проблему и быстро показать пару способов создания цветовых схем в Sass. Но перед тем как идти дальше разберемся с предметом статьи.<p>Предположим, у нас есть компонент, такой как классический <a href="http://www.stubbornella.org/content/2010/06/25/the-media-object-saves-hundreds-of-lines-of-code/">медиа-объект</a>. Теперь попробуем применить к нему различные цветовые схемы, например, отдельную палитру к каждой категории. Для категории А у нашего объекта будет красный заголовок и граница красного оттенка, а для категории B будет использоваться палитра с синими цветами.<p>Наконец, предположим, что у вас не две темы, а дюжина, с множеством цветовых вариантов для компонента. Вы пришли к логичному выводу, что управлять этим вручную совсем непрактично и это именно тот случай, когда нужна автоматизация при помощи инструментов. В данном случае в роли инструмента выступает Sass.<p>OK, теперь мы готовы. Обсуждать категории несколько скучно, поэтому наши темы будут представлять драконов и единорогов. Любой из наших подходов будет основываться на использовании ассоциативного массива с темами. Каждая тема это ассоциативный массив, содержащий ключи, связанные с используемыми цветами.<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="nv">$themes</span><span class="p">:</span> <span class="p">(</span><br data-jekyll-commonmark-ghpages="" />  <span class="s1">'unicorn'</span><span class="o">:</span> <span class="p">(</span><br data-jekyll-commonmark-ghpages="" />    <span class="s1">'primary'</span><span class="o">:</span> <span class="no">hotpink</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" />    <span class="s1">'secondary'</span><span class="o">:</span> <span class="no">pink</span><br data-jekyll-commonmark-ghpages="" />  <span class="p">)</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" />  <span class="s1">'dragon'</span><span class="o">:</span> <span class="p">(</span><br data-jekyll-commonmark-ghpages="" />    <span class="s1">'primary'</span><span class="o">:</span> <span class="no">firebrick</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" />    <span class="s1">'secondary'</span><span class="o">:</span> <span class="no">red</span><br data-jekyll-commonmark-ghpages="" />  <span class="p">)</span><br data-jekyll-commonmark-ghpages="" /><span class="p">)</span> <span class="o">!</span><span class="nb">default</span><span class="p">;</span></code></pre></figure><p>Каждая из наших тем состоит из двух цветов: первого (primary) и второго (secondary). Мы могли назвать их по-другому, например, альфа и бета, это не имеет значения. Смысл состоит в возможности извлекать соответствующие цвета темы.<h2 id="Как-на-самом-деле-работает-темизация">Как на самом деле работает темизация?</h2><p>Конечно, для этого есть много способов, но обычно тема это всего лишь класс, привязанный к определенным стилям. Класс может добавляться к элементу <code class="highlighter-rouge">body</code> или конкретным компонентам для темизации только небольшого модуля, как мы рассмотрели чуть раньше.<p>В целом, в ваших таблицах стилей может быть один из двух вариантов:<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="nc">.theme-class</span> <span class="nc">.component</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="cm">/* Стиль для компонента, потомка элемента с классом `.theme-class` */</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.component.theme-class</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="cm">/* Стиль для компонента с классом `.theme-class` */</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><h2 id="Подход-на-основе-индивидуальных-миксинов">Подход на основе индивидуальных миксинов</h2><p>Начнем с самого простого и, наверное, моего любимого подхода на основе индивидуальных миксинов. Проще говоря, у вас есть пара миксинов, в названии которых указаны свойства, которые они стилизуют. Например, <code class="highlighter-rouge">theme-color</code> для темизации свойства <code class="highlighter-rouge">color</code> или <code class="highlighter-rouge">theme-background-color</code> для темизации цвета фона.<p>Использование этих миксинов будут выглядеть примерно так:<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="cm">/**<br data-jekyll-commonmark-ghpages="" /> * Медиа-объект<br data-jekyll-commonmark-ghpages="" /> * 1. В качестве border-color используем второй цвет темы<br data-jekyll-commonmark-ghpages="" /> */</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">margin</span><span class="p">:</span> <span class="m">15px</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">padding</span><span class="p">:</span> <span class="m">15px</span> <span class="m">0</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">border-top</span><span class="p">:</span> <span class="m">5px</span> <span class="nb">solid</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="k">@include</span> <span class="nd">border-color</span><span class="p">(</span><span class="s1">'secondary'</span><span class="p">);</span> <span class="cm">/* 1 */</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="cm">/**<br data-jekyll-commonmark-ghpages="" /> * Название медиа-объекта<br data-jekyll-commonmark-ghpages="" /> * 1. В качестве цвета названия используем первый цвет темы<br data-jekyll-commonmark-ghpages="" /> */</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media__title</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">font-size</span><span class="p">:</span> <span class="m">1em</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">10px</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="k">@include</span> <span class="nd">color</span><span class="p">(</span><span class="s1">'primary'</span><span class="p">);</span> <span class="cm">/* 1 */</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><p>Согласитесь, этот код выглядит элегантно. Кроме того, его смысл очевиден даже без комментариев.<h3 id="Код">Код</h3><p>Давайте посмотрим, как это сделать. Мы не собираемся повторять логику кода внутри каждого индивидуального миксина, поэтому нам нужен приватный миксин, чтобы собрать все это и затем использовать внутри каждого последующего миксина.<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">/// Миксин Themify<br data-jekyll-commonmark-ghpages="" />/// @access private<br data-jekyll-commonmark-ghpages="" />/// @author Hugo Giraudel<br data-jekyll-commonmark-ghpages="" />/// @param {String} $property - темизируемое свойство<br data-jekyll-commonmark-ghpages="" />/// @param {String} $key - ключ цвета, используемого из темы<br data-jekyll-commonmark-ghpages="" />/// @param {Map} $themes [$themes] - ассоциативный массив с темами<br data-jekyll-commonmark-ghpages="" /></span><span class="k">@mixin</span> <span class="nf">themify</span><span class="p">(</span><span class="nv">$property</span><span class="o">,</span> <span class="nv">$key</span><span class="o">,</span> <span class="nv">$themes</span><span class="o">:</span> <span class="nv">$themes</span><span class="p">)</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="c1">// Проход по темам<br data-jekyll-commonmark-ghpages="" /></span>  <span class="k">@each</span> <span class="nv">$theme</span><span class="o">,</span> <span class="nv">$colors</span> <span class="n">in</span> <span class="nv">$themes</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />    <span class="c1">// Создание селектора (типа `.media.theme-unicorn, .theme-unicorn .media`)<br data-jekyll-commonmark-ghpages="" /></span>    <span class="k">&amp;</span><span class="nc">.theme-</span><span class="si">#{</span><span class="nv">$theme</span><span class="si">}</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" />    <span class="nc">.theme-</span><span class="si">#{</span><span class="nv">$theme</span><span class="si">}</span> <span class="k">&amp;</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />      <span class="c1">// Вывод декларации<br data-jekyll-commonmark-ghpages="" /></span>      <span class="si">#{</span><span class="nv">$property</span><span class="si">}</span><span class="nd">:</span> <span class="nt">map-get</span><span class="o">(</span><span class="err">$</span><span class="nt">colors</span><span class="o">,</span> <span class="err">$</span><span class="nt">key</span><span class="o">)</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />    <span class="p">}</span><br data-jekyll-commonmark-ghpages="" />  <span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><p>И публичный API:<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">/// Темизация цвета шрифта с помощью миксина `themify`<br data-jekyll-commonmark-ghpages="" />/// @access public<br data-jekyll-commonmark-ghpages="" />/// @see {mixin} themify<br data-jekyll-commonmark-ghpages="" /></span><span class="k">@mixin</span> <span class="nf">color</span><span class="p">(</span><span class="nv">$arguments</span><span class="o">...</span><span class="p">)</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="k">@include</span> <span class="nd">themify</span><span class="p">(</span><span class="s1">'color'</span><span class="o">,</span> <span class="nv">$arguments</span><span class="o">...</span><span class="p">);</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="c1">/// Темизация цвета границы элемента с помощью миксина `themify`<br data-jekyll-commonmark-ghpages="" />/// @access public<br data-jekyll-commonmark-ghpages="" />/// @see {mixin} themify<br data-jekyll-commonmark-ghpages="" /></span><span class="k">@mixin</span> <span class="nf">border-color</span><span class="p">(</span><span class="nv">$arguments</span><span class="o">...</span><span class="p">)</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="k">@include</span> <span class="nd">themify</span><span class="p">(</span><span class="s1">'border-color'</span><span class="o">,</span> <span class="nv">$arguments</span><span class="o">...</span><span class="p">);</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="c1">/// Темизация цвета фона элемента с помощью миксина `themify`<br data-jekyll-commonmark-ghpages="" />/// @access public<br data-jekyll-commonmark-ghpages="" />/// @see {mixin} themify<br data-jekyll-commonmark-ghpages="" /></span><span class="k">@mixin</span> <span class="nf">background-color</span><span class="p">(</span><span class="nv">$arguments</span><span class="o">...</span><span class="p">)</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="k">@include</span> <span class="nd">themify</span><span class="p">(</span><span class="s1">'background-color'</span><span class="o">,</span> <span class="nv">$arguments</span><span class="o">...</span><span class="p">);</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><p>Все! Возвращаясь к нашему предыдущему примеру, вот как будет выглядеть полученный CSS:<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.media</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">margin</span><span class="p">:</span> <span class="m">15px</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">padding</span><span class="p">:</span> <span class="m">15px</span> <span class="m">0</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">border-top</span><span class="p">:</span> <span class="m">5px</span> <span class="nb">solid</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media.theme-unicorn</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn</span> <span class="nc">.media</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">border-color</span><span class="p">:</span> <span class="no">pink</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media.theme-dragon</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon</span> <span class="nc">.media</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">border-color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media__title</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">font-size</span><span class="p">:</span> <span class="m">1em</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">10px</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media__title.theme-unicorn</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn</span> <span class="nc">.media__title</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">color</span><span class="p">:</span> <span class="no">hotpink</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media__title.theme-dragon</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon</span> <span class="nc">.media__title</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">color</span><span class="p">:</span> <span class="no">firebrick</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><h3 id="Плюсы">Плюсы</h3><ul><li>Благодаря именованию миксинов на основе стилизуемых свойств, API остается ясным и чистым даже у неопытного разработчика.</ul><h3 id="Минусы">Минусы</h3><ul><li>Этот подход использует несколько миксинов вместо одного — это можно рассматривать как излишнюю сложность. Но можно и не рассматривать, так как большинство из них просто клоны.<li>Так как цвета извлекаются напрямую из ассоциативного массива на основе ключей, ими нельзя манипулировать с помощью цветовых функций типа <code class="highlighter-rouge">lighten</code> или <code class="highlighter-rouge">mix</code>. Хотя это можно сделать с расширенной версией миксина.</ul><h2 id="Подход-на-основе-блочного-миксина">Подход на основе блочного миксина</h2><p>Подход с блочным миксином использует единственный миксин вместо нескольких и основан на использовании директивы <code class="highlighter-rouge">@content</code> (подробнее об этой директиве можно почитать в <a href="http://sass-scss.ru/documentation/miksini/bloki_kontenta_v_miksinah.html">документации</a> или в <a href="http://krasimirtsonev.com/blog/article/SASS-content-directive-is-a-wonderful-thing">статье Красимира Цонева</a>. Его использование будет выглядеть примерно так:<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="cm">/**<br data-jekyll-commonmark-ghpages="" /> * Медиа-объект<br data-jekyll-commonmark-ghpages="" /> * 1. Указываем для border-color второй (secondary ) цвет темы<br data-jekyll-commonmark-ghpages="" /> */</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">margin</span><span class="p">:</span> <span class="m">15px</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">padding</span><span class="p">:</span> <span class="m">15px</span> <span class="m">0</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">border-top</span><span class="p">:</span> <span class="m">5px</span> <span class="nb">solid</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="k">@include</span> <span class="nd">themify</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />    <span class="nl">border-color</span><span class="p">:</span> <span class="nv">$color-secondary</span><span class="p">;</span> <span class="cm">/* 1 */</span><br data-jekyll-commonmark-ghpages="" />  <span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="cm">/**<br data-jekyll-commonmark-ghpages="" /> * Название медиа-объекта<br data-jekyll-commonmark-ghpages="" /> * 1. Указываем в качестве цвета заголовка первый (primary) цвет темы<br data-jekyll-commonmark-ghpages="" /> */</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media__title</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">font-size</span><span class="p">:</span> <span class="m">1em</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">10px</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="k">@include</span> <span class="nd">themify</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />    <span class="nl">color</span><span class="p">:</span> <span class="nv">$color-primary</span><span class="p">;</span> <span class="cm">/* 1 */</span><br data-jekyll-commonmark-ghpages="" />  <span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><h3 id="Код-1">Код</h3><p>Идея проста: вывести два цвета как переменные внутри миксина <code class="highlighter-rouge">themify</code>. Проблема заключается в том, что мы не можем сделать это чисто. Переменные, заданные внутри миксина, недоступны контенту переданному с помощью <code class="highlighter-rouge">@content</code>:<blockquote><p>Блок контента, переданный в миксин, обрабатывается в той области видимости, в которой задан блок, а не в области видимости миксина. Это значит, что локальные переменные миксина нельзя использовать вместе с переданным блоком стилей, так как будут браться значения глобальных переменных.</blockquote><p>Для обхода этого ограничения нам нужно использовать хак. Этот обходной способ не сложен: перед выводом <code class="highlighter-rouge">@content</code>, мы задаем одну глобальную переменную для каждого цвета в теме, а после вывода <code class="highlighter-rouge">@content</code> сбрасываем эти переменные. Таким образом они будут доступны только в вызове <code class="highlighter-rouge">themify</code>.<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">// Инициализируем наши переменные как `null`, таким образом,<br data-jekyll-commonmark-ghpages="" />// при использовании вне `themify`, они ничего не выведут.<br data-jekyll-commonmark-ghpages="" /></span><span class="nv">$color-primary</span><span class="p">:</span> <span class="n">null</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="nv">$color-secondary</span><span class="p">:</span> <span class="n">null</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="c1">/// Миксин Themify<br data-jekyll-commonmark-ghpages="" />/// @author Hugo Giraudel<br data-jekyll-commonmark-ghpages="" />/// @param {Map} $themes [$themes] - ассоциативный массив с темами<br data-jekyll-commonmark-ghpages="" /></span><span class="k">@mixin</span> <span class="nf">themify</span><span class="p">(</span><span class="nv">$themes</span><span class="o">:</span> <span class="nv">$themes</span><span class="p">)</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="c1">// Проход по темам<br data-jekyll-commonmark-ghpages="" /></span>  <span class="k">@each</span> <span class="nv">$theme</span><span class="o">,</span> <span class="nv">$colors</span> <span class="n">in</span> <span class="nv">$themes</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />    <span class="c1">// Создание селектора (типа `.media.theme-unicorn, .theme-unicorn .media`)<br data-jekyll-commonmark-ghpages="" /></span>    <span class="k">&amp;</span><span class="nc">.theme-</span><span class="si">#{</span><span class="nv">$theme</span><span class="si">}</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" />    <span class="nc">.theme-</span><span class="si">#{</span><span class="nv">$theme</span><span class="si">}</span> <span class="k">&amp;</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />      <span class="c1">// Задание переменных темы как глобальных с `!global`<br data-jekyll-commonmark-ghpages="" /></span>      <span class="nv">$color-primary</span><span class="p">:</span> <span class="nf">map-get</span><span class="p">(</span><span class="nv">$colors</span><span class="o">,</span> <span class="s1">'primary'</span><span class="p">)</span> <span class="o">!</span><span class="n">global</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />      <span class="nv">$color-secondary</span><span class="p">:</span> <span class="nf">map-get</span><span class="p">(</span><span class="nv">$colors</span><span class="o">,</span> <span class="s1">'secondary'</span><span class="p">)</span> <span class="o">!</span><span class="n">global</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />      <span class="c1">// Вывод пользовательского контента<br data-jekyll-commonmark-ghpages="" /></span>      <span class="k">@content</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />      <span class="c1">// Глобальное отключение переменных темы с  `!global`<br data-jekyll-commonmark-ghpages="" /></span>      <span class="nv">$color-primary</span><span class="p">:</span> <span class="n">null</span> <span class="o">!</span><span class="n">global</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />      <span class="nv">$color-secondary</span><span class="p">:</span> <span class="n">null</span> <span class="o">!</span><span class="n">global</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />    <span class="p">}</span><br data-jekyll-commonmark-ghpages="" />  <span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><p>Итоговый CSS из примера будет выглядеть также, как и при первом подходе.<h3 id="Плюсы-1">Плюсы</h3><ul><li>В противоположность решению с индивидуальными миксинами, блочный миксин дает возможность манипулировать цветами с помощью функций, так как у нас есть прямой доступ к цветам. сохраненным в переменных темы;<li>Я чувствую, что API остается ясным с таким подходом, особенно с учетом того, что внутри миксинов находятся действующие декларации CSS — некоторым людям их проще понять.</ul><h3 id="Минусы-1">Минусы</h3><ul><li>Такое использование глобальных переменных является хаком. Можно на этом не заморачиваться, хотя качество кода не относится к достоинствам этого подхода.</ul><h2 id="Большой-миксин-со-всеми-стилями-темы">Большой миксин со всеми стилями темы</h2><p>Об этом подходе я уже <a href="http://www.sitepoint.com/dealing-color-schemes-sass/">писал на Sitepoint в 2014 году</a>. Идея состоит в том, чтобы сделать один большой миксин, который вы обновляете каждый раз, когда вам нужно что-то темизировать.<p>Это означает, что этот миксин одинаков для всех компонентов в проекте. Если вы хотите сделать новый компонент темизируемым каким-либо образом, вам надо открыть файл с миксином <code class="highlighter-rouge">themify</code> и добавить в него пару дополнительных правил.<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">// Где-то внутри проекта, миксин `themify`<br data-jekyll-commonmark-ghpages="" /></span><span class="k">@mixin</span> <span class="nf">themify</span><span class="p">(</span><span class="nv">$theme</span><span class="o">,</span> <span class="nv">$colors</span><span class="p">)</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="c1">// См раздел `Код`<br data-jekyll-commonmark-ghpages="" /></span><span class="p">}</span> <span class="k">@include</span> <span class="nd">themify</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="cm">/**<br data-jekyll-commonmark-ghpages="" /> * Медиа-объект<br data-jekyll-commonmark-ghpages="" /> */</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">margin</span><span class="p">:</span> <span class="m">15px</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">padding</span><span class="p">:</span> <span class="m">15px</span> <span class="m">0</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">border-top</span><span class="p">:</span> <span class="m">5px</span> <span class="nb">solid</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="cm">/**<br data-jekyll-commonmark-ghpages="" /> * Название медиа-объекта<br data-jekyll-commonmark-ghpages="" /> */</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media__title</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">font-size</span><span class="p">:</span> <span class="m">1em</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">10px</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="k">@each</span> <span class="nv">$theme</span><span class="o">,</span> <span class="nv">$colors</span> <span class="n">in</span> <span class="nv">$themes</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="k">@include</span> <span class="nd">themify</span><span class="p">(</span><span class="nv">$theme</span><span class="o">,</span> <span class="nv">$colors</span><span class="p">);</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><h3 id="Код-2">Код</h3><figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">/// Миксин Themify<br data-jekyll-commonmark-ghpages="" />/// @author Hugo Giraudel<br data-jekyll-commonmark-ghpages="" />/// @param {String} $theme - тема<br data-jekyll-commonmark-ghpages="" />/// @param {Map} $colors - цвета темы<br data-jekyll-commonmark-ghpages="" /></span><span class="k">@mixin</span> <span class="nf">themify</span><span class="p">(</span><span class="nv">$theme</span><span class="o">,</span> <span class="nv">$colors</span><span class="p">)</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="c1">// вывод селектора темы<br data-jekyll-commonmark-ghpages="" /></span>  <span class="nc">.theme-</span><span class="si">#{</span><span class="nv">$theme</span><span class="si">}</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />    <span class="c1">// Создание двух вариантов селектора<br data-jekyll-commonmark-ghpages="" /></span>    <span class="c1">// т.е. `.theme .component, .theme.component`<br data-jekyll-commonmark-ghpages="" /></span>    <span class="nc">.media</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" />    <span class="k">&amp;</span><span class="nc">.media</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />      <span class="nl">border-color</span><span class="p">:</span> <span class="nf">map-get</span><span class="p">(</span><span class="nv">$colors</span><span class="o">,</span> <span class="s1">'primary'</span><span class="p">);</span><br data-jekyll-commonmark-ghpages="" />    <span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />    <span class="nc">.media__title</span><br data-jekyll-commonmark-ghpages="" />    <span class="k">&amp;</span><span class="nc">.media__title</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />      <span class="nl">color</span><span class="p">:</span> <span class="nf">map-get</span><span class="p">(</span><span class="nv">$colors</span><span class="o">,</span> <span class="s1">'secondary'</span><span class="p">);</span><br data-jekyll-commonmark-ghpages="" />    <span class="p">}</span><br data-jekyll-commonmark-ghpages="" />  <span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><p>Итоговый CSS из примера будет выглядеть также, как и при первом подходе.<h3 id="Плюсы-2">Плюсы</h3><ul><li>Так как содержимое миксина поддерживается вручную, мы получаем высокую гибкость селекторов. Вы можете делать практически все, что захотите;<li>По той же причине у вас появляется возможность манипулирования цветами при помощи функций типа <code class="highlighter-rouge">darken</code>.</ul><h3 id="Минусы-2">Минусы</h3><ul><li>Так как все, что темизируется мы храним в содержимом миксина, это не очень хорошо работает при модульном подходе. Это может быть неплохо на небольших и средних проектах с глобальными стилями;<li>Расположение стилей компонента в нескольких местах может запутать, например, в стилях модуля и в миксине темы.</ul><h2 id="Подход-на-основе-классов">Подход на основе классов</h2><p>Подход на основе классов это на самом деле подход на основе DOM. Идея состоит в том, чтобы вместо добавления стилей темы из таблиц стилей добавлять имена классов в разметку типа <code class="highlighter-rouge">border-color-primary</code>. Эти классы, сгенерированные при помощи Sass ничего не делают сами по себе, а применяют стили при использовании в сочетании с нашими классами <code class="highlighter-rouge">theme-$theme</code>.<p>Вы может узнать больше об этой системе из <a href="http://csswizardry.com/2015/03/more-transparent-ui-code-with-namespaces/#theme-namespaces-t-">статьи Гарри Робертса</a>.<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"media  theme-unicorn  border-color-primary"</span><span class="nt">&gt;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"media__image"</span> <span class="na">src=</span><span class="s">"http://lorempixel.com/100/100"</span> <span class="nt">/&gt;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nt">&lt;h2</span> <span class="na">class=</span><span class="s">"media__title  color-secondary"</span><span class="nt">&gt;</span>This is the headline<span class="nt">&lt;/h2&gt;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"media__content"</span><span class="nt">&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Provident nulla voluptatibus quisquam tenetur quas quidem, repudiandae vel beatae iure odit odio quae.<span class="nt">&lt;/p&gt;</span><br data-jekyll-commonmark-ghpages="" /><span class="nt">&lt;/div&gt;</span></code></pre></figure><figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">// Где-то внутри проекта (однажды)<br data-jekyll-commonmark-ghpages="" /></span><span class="k">@mixin</span> <span class="nf">themify</span><span class="p">(</span><span class="nv">$themes</span><span class="o">:</span> <span class="nv">$themes</span><span class="p">)</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="c1">// См раздел `Код`<br data-jekyll-commonmark-ghpages="" /></span>  <span class="p">}</span> <span class="k">@include</span> <span class="nd">themify</span><span class="p">(</span><span class="nv">$themes</span><span class="p">);</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="cm">/**<br data-jekyll-commonmark-ghpages="" /> * Медиа-объект<br data-jekyll-commonmark-ghpages="" /> */</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">margin</span><span class="p">:</span> <span class="m">15px</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">padding</span><span class="p">:</span> <span class="m">15px</span> <span class="m">0</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">border-top</span><span class="p">:</span> <span class="m">5px</span> <span class="nb">solid</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="cm">/**<br data-jekyll-commonmark-ghpages="" /> * Название медиа-объекта<br data-jekyll-commonmark-ghpages="" /> */</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.media__title</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">font-size</span><span class="p">:</span> <span class="m">1em</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">10px</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><h3 id="Код-3">Код</h3><figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">/// Миксин Themify<br data-jekyll-commonmark-ghpages="" />/// @param {Map} $themes [$themes] - Ассоциативный массив с темами<br data-jekyll-commonmark-ghpages="" /></span><span class="k">@mixin</span> <span class="nf">themify</span><span class="p">(</span><span class="nv">$themes</span><span class="o">:</span> <span class="nv">$themes</span><span class="p">)</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="c1">// Темизируемые свойства, можно добавиь еще (типа `border-left-color`)<br data-jekyll-commonmark-ghpages="" /></span>  <span class="nv">$properties</span><span class="p">:</span> <span class="p">(</span><span class="s1">'border-color'</span><span class="o">,</span> <span class="s1">'background-color'</span><span class="o">,</span> <span class="s1">'color'</span><span class="p">);</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />  <span class="c1">// Проход по темам<br data-jekyll-commonmark-ghpages="" /></span>  <span class="k">@each</span> <span class="nv">$theme</span><span class="o">,</span> <span class="nv">$colors</span> <span class="n">in</span> <span class="nv">$themes</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />    <span class="c1">// Проход по цветам темы<br data-jekyll-commonmark-ghpages="" /></span>    <span class="k">@each</span> <span class="nv">$color-name</span><span class="o">,</span> <span class="nv">$color</span> <span class="n">in</span> <span class="nv">$colors</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />      <span class="c1">// Проход по свойствам<br data-jekyll-commonmark-ghpages="" /></span>      <span class="k">@each</span> <span class="nv">$property</span> <span class="n">in</span> <span class="nv">$properties</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />        <span class="c1">// Создание селектора<br data-jekyll-commonmark-ghpages="" /></span>        <span class="c1">// типа `.theme .color-primary, .theme.color-primary`<br data-jekyll-commonmark-ghpages="" /></span>        <span class="nc">.theme-</span><span class="si">#{</span><span class="nv">$theme</span><span class="si">}</span> <span class="nc">.</span><span class="si">#{</span><span class="nv">$property</span><span class="si">}</span><span class="nc">-</span><span class="si">#{</span><span class="nv">$color-name</span><span class="si">}</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" />        <span class="nc">.theme-</span><span class="si">#{</span><span class="nv">$theme</span><span class="si">}</span><span class="nc">.</span><span class="si">#{</span><span class="nv">$property</span><span class="si">}</span><span class="nc">-</span><span class="si">#{</span><span class="nv">$color-name</span><span class="si">}</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />          <span class="si">#{</span><span class="nv">$property</span><span class="si">}</span><span class="nd">:</span> <span class="err">$</span><span class="nt">color</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" />        <span class="p">}</span><br data-jekyll-commonmark-ghpages="" />      <span class="p">}</span><br data-jekyll-commonmark-ghpages="" />    <span class="p">}</span><br data-jekyll-commonmark-ghpages="" />  <span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><p>Полученный CSS:<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.theme-unicorn</span> <span class="nc">.border-color-primary</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn.border-color-primary</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">border-color</span><span class="p">:</span> <span class="no">hotpink</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn</span> <span class="nc">.background-color-primary</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn.background-color-primary</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">background-color</span><span class="p">:</span> <span class="no">hotpink</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn</span> <span class="nc">.color-primary</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn.color-primary</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">color</span><span class="p">:</span> <span class="no">hotpink</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn</span> <span class="nc">.border-color-secondary</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn.border-color-secondary</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">border-color</span><span class="p">:</span> <span class="no">pink</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn</span> <span class="nc">.background-color-secondary</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn.background-color-secondary</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">background-color</span><span class="p">:</span> <span class="no">pink</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn</span> <span class="nc">.color-secondary</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-unicorn.color-secondary</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">color</span><span class="p">:</span> <span class="no">pink</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon</span> <span class="nc">.border-color-primary</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon.border-color-primary</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">border-color</span><span class="p">:</span> <span class="no">firebrick</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon</span> <span class="nc">.background-color-primary</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon.background-color-primary</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">background-color</span><span class="p">:</span> <span class="no">firebrick</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon</span> <span class="nc">.color-primary</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon.color-primary</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">color</span><span class="p">:</span> <span class="no">firebrick</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon</span> <span class="nc">.border-color-secondary</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon.border-color-secondary</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">border-color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon</span> <span class="nc">.background-color-secondary</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon.background-color-secondary</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">background-color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon</span> <span class="nc">.color-secondary</span><span class="o">,</span><br data-jekyll-commonmark-ghpages="" /><span class="nc">.theme-dragon.color-secondary</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">color</span><span class="p">:</span> <span class="no">red</span><span class="p">;</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><p>Может показаться, что мы генерируем слишком много CSS, но эти стили вы можете использовать многократно внутри проекта, поэтому результат не так уж и плох.<h3 id="Плюсы-3">Плюсы</h3><ul><li>Это решение обладает преимуществом, так как основано на DOM, что дает интересные возможности по манипулированию темами на лету при помощи JavaScript. Конечно, ведь нам остается только добавлять или удалять классы у элементов, это очень удобно;<li>Хотя вывод миксина <code class="highlighter-rouge">themify</code> выглядит большим он на самом деле реализует DRY, так как каждый темизируемый цвет текста, границы, фона или чего-то еще применяется через классы.</ul><h3 id="Минусы-3">Минусы</h3><ul><li>В некоторых случаях подход на основе DOM нельзя корректно реализовать, если разметка сделана не вручную (CMS, контент, сгенерированный пользователем…).</ul><h2 id="Заключение">Заключение</h2><p>Я уверен, что забыл дюжину других способов применения стилей темы в Sass, но я думаю, что эти 4 различных варианта раскрывают большую часть темы. Что до меня, то я бы выбрал подход с индивидуальными миксинами или же подход на основе DOM, если нам хочется добиться модульности (что всегда хорошо).<p align="right"><small><em>Источник: http://prgssr.ru/development/temizaciya-s-sass-beskonechnaya-istoriya.html</em></small><div class="post-links"> <a class="link-to-post" href="/blog/design-as-coder/"> <span class="link-to-post__next">&#10535; &nbsp;Next post</span> <span class="link-to-post__title">Дизайнь как верстальщик</span> </a> <a class="link-to-post" href="/blog/monitoring-web-applications/"> <span class="link-to-post__prev">&#10535; &nbsp;Previous post</span> <span class="link-to-post__title">Мониторинг веб-приложений</span> </a></div></div></article></main><footer class="blog-footer content-wrapper"><p>&copy; <span class="full-year"></span> denisnovikov.github.io</footer><script src="/assets/js/scripts.js"></script>  <script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function () { try { w.yaCounter45975960 = new Ya.Metrika({ id: 45975960, clickmap: true, trackLinks: true, accurateTrackBounce: true, webvisor: true }); } catch (e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks"); </script> <noscript><div> <img src="https://mc.yandex.ru/watch/45975960" style="position:absolute; left:-9999px;" alt="" /></div></noscript>  <!--Openstat--> <span id="openstat1"></span> <script type="text/javascript"> var openstat = { counter: 1, next: openstat }; (function(d, t, p) { var j = d.createElement(t); j.async = true; j.type = "text/javascript"; j.src = ("https:" == p ? "https:" : "http:") + "//openstat.net/cnt.js"; var s = d.getElementsByTagName(t)[0]; s.parentNode.insertBefore(j, s); })(document, "script", document.location.protocol); </script> <!--/Openstat-->
