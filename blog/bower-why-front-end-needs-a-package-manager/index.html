<!DOCTYPE html><html lang="ru"><head>  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-89748707-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'UA-89748707-1'); </script><base href="https://denisnovikov.github.io"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="google-site-verification" content="aiV-7fBXdNhcJILKp5GXFesXJetzCgLWAbif-tZKfrY" /><meta name="yandex-verification" content="41a2ad868168b23f" /><meta name="openstat-verification" content="62f671b1eaa0d2a7ce234219685a42b3d7770961" /><meta property="op:markup_version" content="v1.0"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="application-name" content="FrontEnd Blog"><meta name="format-detection" content="telephone=no"><meta name="generator" content="jekyll"><meta name="google" content="notranslate"><meta name="rating" content="General"><meta name="referrer" content="never"><meta name="robots" content="index,follow,noodp"><meta name="subject" content="blog"><meta name="url" content="https://denisnovikov.github.io"><meta name="viewport" content="width=device-width, initial-scale=1"><title> Bower: зачем фронтенду нужен менеджер пакетов - denisnovikov.github.io</title><meta name="description" content="Статья написана в 2014-м году, во времена npm 2, который был не очень популярен среди фронтендеров из-за описанных в статье недостатков. Сейчас пользуйтес..."><link rel="alternate" hreflang="ru" href="/blog/bower-why-front-end-needs-a-package-manager/" /><link rel="canonical" href="https://denisnovikov.github.io/blog/bower-why-front-end-needs-a-package-manager/"><link rel="author" href="DNovikov"><link rel="me" href="https://github.com/denisnovikov" type="text/html"><link rel="me" href="mailto:dnovikov1808@gmail.com"><link href='https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|Roboto+Condensed:700&subset=latin' rel='stylesheet' type='text/css'><link rel="stylesheet" href="/assets/css/main.css"><meta property="og:url" content="https://denisnovikov.github.io/blog/bower-why-front-end-needs-a-package-manager/"><meta property="og:type" content="website"><meta property="og:title" content="Bower: зачем фронтенду нужен менеджер пакетов"><meta property="og:description" content="Менеджеры пакетов упрощают установку и обновление зависимостей проекта, то есть сторонних библиотек, которые он использует"><meta property="og:site_name" content="denisnovikov.github.io"><meta property="og:locale" content="ru_RU"><meta property="article:author" content="DNovikov"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@dev_novikov"><meta name="twitter:creator" content="@dev_novikov"><meta name="twitter:url" content="https://denisnovikov.github.io/blog/bower-why-front-end-needs-a-package-manager/"><meta name="twitter:title" content="Bower: зачем фронтенду нужен менеджер пакетов"><meta name="twitter:description" content="Менеджеры пакетов упрощают установку и обновление зависимостей проекта, то есть сторонних библиотек, которые он использует"><meta property="og:image" content="https://denisnovikov.github.io/assets/images/bg.svg"><meta name="twitter:image" content="https://denisnovikov.github.io/assets/images/bg.svg"><body><div id="shadow"></div><header class="main-header content-wrapper"> <input type="checkbox" id="menu-checkbox" /><nav class="center-wrapper nav-main"> <a class="blog-logo" href="/">denisnovikov.github.io</a> <a href="/about/">О проекте</a> <a href="/blog/">Все записи блога</a> <a href="/feed.xml" rel="alternate" type="application/rss+xml">RSS</a> <label for="menu-checkbox" class="toggle-button" data-open="☰" data-close="☰" onclick></label></nav></header><aside class="sidebar" role="note" style=" background-image: url( /assets/images/front-end/bower-why-front-end-needs-a-package-manager/preview-bower-why-front-end-needs-a-package-manager.jpg )"><div class="cover"><div class="cover-text"><div class="heading"> <a href="/blog/#front-end">front-end</a></div><p> Менеджеры пакетов упрощают установку и обновление зависимостей проекта, то есть сторонних библиотек, которые он использует Bower: зачем фронтенду нужен менеджер пакетов</div></div><div id="switcher"></div></aside><main class="content-wrapper"><article class="post"><h1 class="post-title">Bower: зачем фронтенду нужен менеджер пакетов</h1><p class="post-meta"> <time datetime="2014-06-23">23-06-2014</time> &nbsp;/&nbsp; <span>nano.sapegin.ru</span><div class="post-content"><p><em>Статья написана в 2014-м году, во времена npm 2, который был не очень популярен среди фронтендеров из-за описанных в статье недостатков. Сейчас пользуйтесь <a href="https://yarnpkg.com/">Ярном</a> или <a href="https://www.npmjs.com/">npm</a>, а статью считайте исторической.</em><p><em>Статья впервые была опубликована в <a href="https://xakep.ru/issues/xa/?id=184">майском номере</a> журнала Хакер. В журнал вошла сильно сокращённая версия; ниже — полная.</em><p>Менеджеры пакетов упрощают установку и обновление зависимостей проекта, то есть сторонних библиотек, которые он использует: jQuery, Fotorama, всё, что используется на вашем сайте и написано не вами.<p>Хождение по сайтам библиотек, скачивание и распаковка архивов, копирование файлов в проект — всё это заменяется парой команд в терминале.<p>У многих языков программирования есть стандартные менеджеры пакетов, которыми разработчики пользуются для установки всех библиотек: gem у Руби, pip у Питона и другие. У серверного Яваскрипта есть npm (почему он не подходит для клиентского — ниже), а у клиентского яваскрипта до недавнего времени ничего не было. Было множество разных пакетных менеджеров (Jam, Component, Volo, Ender), но большинство из них так и не стали популярными, а от менеджера пакетов, которым не поставишь нужных библиотек, толку мало.<p>Бовер — не стандартный менеджер пакетов для клиентского Яваскрипта, но самый популярный: сейчас там больше 11 тысяч пакетов.<p>Бовер не навязывает пользователю свою систему сборки, а разработчику пакетов — метод подключения библиотеки (AMD, CommonJS и другие). Всё, что делает Бовер — устанавливает нужные проекту пакеты подходящих версий вместе с их зависимостями. Другими словами: просто загружает файлы нужных библиотек и всё, что нужно для их работы в специальную папку. Остальное остаётся на усмотрение разработчика.<h2 id="Почему-не-npm">Почему не npm</h2><p>Главное отличие npm и Бовера — подход к установке зависимостей пакетов. npm устанавливает зависимости для каждого пакета отдельно, в итоге получается большое дерево пакетов (node_modules/grunt/node_modules/glob/node_modules/…), где может быть несколько версий одного и того же пакета. В клиентском Яваскрипте это недопустимо: нельзя подключить на страницу две версии jQuery или любой другой библиотеки. В Бовере каждый пакет устанавливается один раз (jQuery всегда будет в папке bower_components/jquery, сколько бы пакетов от него не зависело) и в случае конфликта зависимостей, Бовер просто не станет устанавливать пакет, не совместимый с уже установленными.<h2 id="Установка-Бовера">Установка Бовера</h2><p>Для работы с Бовером вам потребуются Node и Git. Установка:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm install <span class="nt">-g</span> bower</code></pre></figure><h2 id="Работа-с-пакетами">Работа с пакетами</h2><p>Попробуем что-нибудь установить, например, jQuery:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower install <span class="nt">--save</span> jquery  <span class="c"># Или bower i -S jquery</span></code></pre></figure><p>Эта команда скачает jQuery последней версии в папку <code class="highlighter-rouge">bower_components/jquery</code>.<p>Флаг <code class="highlighter-rouge">--save</code> говорит Боверу, что он должен сохранить имя пакета и его версию в файл-манифест — <code class="highlighter-rouge">bower.json</code>. В этом файле хранится список всех зависимостей проекта (пакетов, установленных через Бовер) и другие метаданные, нужные для создания своих пакетов (об этом в конце статьи). Вместе с именами пакетов можно указать версии, с которыми ваш проект гарантированно будет работать.<p>У нас такого файла ещё нет, о чём и говорит строчка «No bower.json file to save to, use bower init to create one» в логе. Создадим его:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower init</code></pre></figure><p>Бовер будет задавать много вопросов, но до тех пор пока мы не захотим зарегистрировать свой пакет, ответы на большинство из них не имеют значения, можно просто нажимать Enter.<p>На вопрос «set currently installed components as dependencies?» нужно ответить «Yes» — все ранее установленные компоненты (в нашем случае это jQuery) автоматически попадут в созданный JSON-файл. А на вопрос «would you like to mark this package as private which prevents it from being accidentally published to the registry?» — тоже «Yes» — это предотвратит случайную регистрацию пакета в реестре Бовере.<p>Поставим ещё несколько пакетов:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower install <span class="nt">--save</span> social-likes jquery-icheck fotorama</code></pre></figure><p>И посмотрим, что у нас получилось:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower list<br data-jekyll-commonmark-ghpages="" />bower check-new     Checking <span class="k">for </span>new versions of the project dependencies..<br data-jekyll-commonmark-ghpages="" />bowertest#0.0.0 /Users/admin/bowertest<br data-jekyll-commonmark-ghpages="" />├─┬ fotorama#4.5.1<br data-jekyll-commonmark-ghpages="" />│ └── jquery#2.1.0 <span class="o">(</span>2.1.1-beta1 available<span class="o">)</span><br data-jekyll-commonmark-ghpages="" />├── jquery#2.1.0 <span class="o">(</span>2.1.1-beta1 available<span class="o">)</span><br data-jekyll-commonmark-ghpages="" />├─┬ jquery-icheck#1.0.2<br data-jekyll-commonmark-ghpages="" />│ └── jquery#2.1.0 <span class="o">(</span>2.1.1-beta1 available<span class="o">)</span><br data-jekyll-commonmark-ghpages="" />└─┬ social-likes#3.0.2<br data-jekyll-commonmark-ghpages="" />└── jquery#2.1.0</code></pre></figure><p>Команда <code class="highlighter-rouge">bower list</code> показывает список всех установленных пакетов. Тут мы видим, что все пакеты зависят от jQuery, и что Бовер смог найти подходящую всем версию — jQuery 2.1.0.<p>На файловой системе это выглядит вот так:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>tree <span class="nt">-L</span> 2<br data-jekyll-commonmark-ghpages="" /><span class="nb">.</span><br data-jekyll-commonmark-ghpages="" />├── bower.json<br data-jekyll-commonmark-ghpages="" />└── bower_components<br data-jekyll-commonmark-ghpages="" />  ├── fotorama<br data-jekyll-commonmark-ghpages="" />  ├── jquery<br data-jekyll-commonmark-ghpages="" />  ├── jquery-icheck<br data-jekyll-commonmark-ghpages="" />  └── social-likes<br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />5 directories, 1 file</code></pre></figure><p>Каждый пакет устанавливается в свою папку, вложенных пакетов нет, jQuery встречается только один раз. В корне проекта лежит созданный командой <code class="highlighter-rouge">bower init</code> файл <code class="highlighter-rouge">bower.json</code>, но теперь там перечисленны уже все пакеты, которые показывает <code class="highlighter-rouge">bower list</code>, а не только jQuery.<p>Для удаления пакетов используется команда <code class="highlighter-rouge">bower uninstall</code>:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower uninstall <span class="nt">--save</span> jquery-icheck  <span class="c"># Или bower un -S jquery-icheck</span></code></pre></figure><p>Вы можете спокойно удалять папку <code class="highlighter-rouge">bower_components</code> или добавить её в ваш <code class="highlighter-rouge">.gitignore</code>. Команда <code class="highlighter-rouge">bower install</code> (без дополнительных параметров) вернёт всё как было:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower install</code></pre></figure><h2 id="Развёртывание-проекта">Развёртывание проекта</h2><p>Есть два подхода к развёртыванию проектов:<ol><li>В репозиторий добавляется только файл-манифест и все пакеты устанавливаются во время развёртывания проекта. Так в репозитории не хранится ничего лишнего, но если во время развёртывания упадёт Гитхаб или другой сервер, с которого устанавливаются пакеты, будут проблемы;<li>В репозиторий добавляется не только <code class="highlighter-rouge">bower.json</code>, но папка <code class="highlighter-rouge">bower_components</code>. Так развёртывание не зависит от внешних серверов, но репозиторий раздувается десятками (а то и сотнями) лишних файлов.</ol><h2 id="Семантические-версии-semver">Семантические версии (semver)</h2><p><a href="http://semver.org/">Semver</a> — это, во-первых, подход к версионированию библиотек: формат номера версии МАЖОРНАЯ.МИНОРНАЯ.ПАТЧ и правила, по которым следует увеличивать то или иное число.<p>А во-вторых — это способ описания требуемых версий зависимостей, который используют Бовер и npm.<p>При установке с флагом <code class="highlighter-rouge">--save</code> версии пакетов добавляются в <code class="highlighter-rouge">bower.json</code> в виде <code class="highlighter-rouge">~1.0.1</code>. Тильда в начале говорит о том, что при установке будет выбрана версия 1.0.1 или с большим последним числом (ПАТЧ), если она есть. Таким образом будет установлена версия с последними исправлениями ошибок, но полностью совместимая с той, что указана в файле-манифесте.<h2 id="Обновление-зависимостей">Обновление зависимостей</h2><p>В Бовере есть команда <code class="highlighter-rouge">bower update</code>, но она обновляет пакеты с учётом требований файла-манифеста. Например, если там указан jQuery <code class="highlighter-rouge">~2.0.0</code>, то Бовер сможет обновить jQuery до версии, скажем, 2.0.9, но 2.1.0 уже не поставит, потому что эта версия не соответствует формуле <code class="highlighter-rouge">~2.0.0</code>.<p>Для обновления пакетов (и <code class="highlighter-rouge">bower.json</code>) до действительно последних версий можно воспользоваться утилитой <a href="https://github.com/sapegin/bower-update">bower-update</a>. Устанавливаем:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>npm install <span class="nt">-g</span> bower-update</code></pre></figure><p>Запускаем:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower-update</code></pre></figure><h2 id="Поиск-пакетов">Поиск пакетов</h2><p>Есть два способа найти пакет в Бовере: гиковский и обычный.<p>Гиковский:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower search jquery<br data-jekyll-commonmark-ghpages="" />Search results:<br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" />jquery git://github.com/jquery/jquery.git<br data-jekyll-commonmark-ghpages="" />jquery-ui git://github.com/components/jqueryui<br data-jekyll-commonmark-ghpages="" />...</code></pre></figure><p>Обычный: открыть в браузере <a href="https://bower.io/search/">bower.io/search</a>.<h2 id="Автоматическая-сборка">Автоматическая сборка</h2><p>Бовер перекладывает проблемы сборки установленных пакетов на плечи разработчика. Самый простой способ — просто склеить JS-файлы Грантом, Галпом или любой другой системой сборки, которой вы пользуетесь.<p>Я пользуюсь Грантом, поэтому расскажу, как склеивать пакеты Грантом. О том как пользоваться Грантом была <a href="http://nano.sapegin.ru/all/grunt-0-4">большая статья</a> в июльском номере прошлого года, поэтому покажу сразу конфиг плагина <code class="highlighter-rouge">grunt-contrib-concat</code>:<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">concat</span><span class="p">:</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">main</span><span class="p">:</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />    <span class="nl">src</span><span class="p">:</span> <span class="p">[</span><br data-jekyll-commonmark-ghpages="" />      <span class="s1">'bower_components/jquery/jquery.min.js'</span><span class="p">,</span><br data-jekyll-commonmark-ghpages="" />      <span class="s1">'bower_components/fotorama/….js'</span><span class="p">,</span><br data-jekyll-commonmark-ghpages="" />      <span class="s1">'bower_components/jquery-icheck/….js'</span><span class="p">,</span><br data-jekyll-commonmark-ghpages="" />      <span class="s1">'bower_components/social-likes/social-likes.min.js’,<br data-jekyll-commonmark-ghpages="" />      '</span><span class="nx">scripts</span><span class="cm">/*.js'  // Скрипты вашего сайта<br data-jekyll-commonmark-ghpages="" />    ],<br data-jekyll-commonmark-ghpages="" />    dest: 'build/scripts.js'<br data-jekyll-commonmark-ghpages="" />  }<br data-jekyll-commonmark-ghpages="" />}</span></code></pre></figure><p>У этого способа есть много недостатков: вам нужно смотреть имена файлов для каждого пакета; следить, чтобы файлы собирались в правильном порядке (например, jQuery должен быть выше, чем скрипты, зависящие от него). Плагин <a href="https://github.com/sapegin/grunt-bower-concat">grunt-bower-concat</a> может делать это сам: он автоматически склеивает все установленные зависимости в правильном порядке в один файл:<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">bower_concat</span><span class="p">:</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">all</span><span class="p">:</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />    <span class="nl">dest</span><span class="p">:</span> <span class="s1">'build/_bower.js'</span><span class="p">,</span>  <span class="c1">// Склеенный файл</span><br data-jekyll-commonmark-ghpages="" />    <span class="nx">exclude</span><span class="p">:</span> <span class="p">[</span>  <span class="c1">// Пакеты, которые нужно исключить из сборки</span><br data-jekyll-commonmark-ghpages="" />        <span class="s1">'jquery'</span><span class="p">,</span>  <span class="c1">// Если jQuery подключается с CDN Гугла</span><br data-jekyll-commonmark-ghpages="" />        <span class="s1">'modernizr'</span>  <span class="c1">// Если подключаем скрипты в конце страницы; Modernizr нужно подключать в &lt;head&gt;</span><br data-jekyll-commonmark-ghpages="" />    <span class="p">]</span><br data-jekyll-commonmark-ghpages="" />  <span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><span class="p">},</span><br data-jekyll-commonmark-ghpages="" /><span class="nx">concat</span><span class="p">:</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />  <span class="nl">main</span><span class="p">:</span> <span class="p">{</span><br data-jekyll-commonmark-ghpages="" />    <span class="nl">src</span><span class="p">:</span> <span class="p">[</span><br data-jekyll-commonmark-ghpages="" />      <span class="s1">'build/_bower.js'</span><span class="p">,</span><br data-jekyll-commonmark-ghpages="" />      <span class="s1">'scripts/*.js'</span>  <span class="c1">// Скрипты вашего сайта</span><br data-jekyll-commonmark-ghpages="" />    <span class="p">],</span><br data-jekyll-commonmark-ghpages="" />    <span class="nx">dest</span><span class="p">:</span> <span class="s1">'build/scripts.js'</span><br data-jekyll-commonmark-ghpages="" />  <span class="p">}</span><br data-jekyll-commonmark-ghpages="" /><span class="p">}</span></code></pre></figure><h2 id="Регистрация-своих-пакетов">Регистрация своих пакетов</h2><p>Чтобы ваша библиотека стала доступна для установки через Бовер, её нужно зарегистрировать. Для этого:<ul><li>В корне проекта должен лежать файл-манифест <code class="highlighter-rouge">bower.json</code>;<li>У проекта должен быть гит-репозиторий (например, на Гитхабе);<li>Проект должен использовать семантические версии и в репозитории должен быть гит-тег для последней версии.</ul><p>Для создания файла файла-манифеста снова воспользуемся командой <code class="highlighter-rouge">bower init</code>:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower init<br data-jekyll-commonmark-ghpages="" /><span class="o">[</span>?] name: awesomelib<br data-jekyll-commonmark-ghpages="" /><span class="o">[</span>?] version: 0.0.1<br data-jekyll-commonmark-ghpages="" /><span class="o">[</span>?] description: My awesome jQuery plugin.<br data-jekyll-commonmark-ghpages="" /><span class="o">[</span>?] main file: jquery.awesomeplugin<br data-jekyll-commonmark-ghpages="" /><span class="o">[</span>?] keywords: jquery awesome yay<br data-jekyll-commonmark-ghpages="" /><span class="o">[</span>?] authors: Artem Sapegin &lt;artem@sapegin.ru&gt;<br data-jekyll-commonmark-ghpages="" /><span class="o">[</span>?] license: MIT<br data-jekyll-commonmark-ghpages="" /><span class="o">[</span>?] homepage: https://github.com/sapegn/jquery.awesomeplugin.js<br data-jekyll-commonmark-ghpages="" /><span class="o">[</span>?] <span class="nb">set </span>currently installed components as dependencies? Yes<br data-jekyll-commonmark-ghpages="" /><span class="o">[</span>?] add commonly ignored files to ignore list? Yes<br data-jekyll-commonmark-ghpages="" /><span class="o">[</span>?] would you like to mark this package as private which prevents it from being accidentally published to the registry? No<br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="o">{</span><br data-jekyll-commonmark-ghpages="" />    name: <span class="s1">'awesomelib'</span>,<br data-jekyll-commonmark-ghpages="" />    version: <span class="s1">'0.0.1'</span>,<br data-jekyll-commonmark-ghpages="" />    description: <span class="s1">'My awesome jQuery plugin.'</span>,<br data-jekyll-commonmark-ghpages="" />    main: <span class="s1">'jquery.awesomeplugin.js'</span>,<br data-jekyll-commonmark-ghpages="" />    keywords: <span class="o">[</span><br data-jekyll-commonmark-ghpages="" />        <span class="s1">'jquery'</span>,<br data-jekyll-commonmark-ghpages="" />        <span class="s1">'awesome'</span>,<br data-jekyll-commonmark-ghpages="" />        <span class="s1">'yay'</span><br data-jekyll-commonmark-ghpages="" />    <span class="o">]</span>,<br data-jekyll-commonmark-ghpages="" />    authors: <span class="o">[</span><br data-jekyll-commonmark-ghpages="" />        <span class="s1">'Artem Sapegin &lt;artem@sapegin.ru&gt;'</span><br data-jekyll-commonmark-ghpages="" />    <span class="o">]</span>,<br data-jekyll-commonmark-ghpages="" />    license: <span class="s1">'MIT'</span>,<br data-jekyll-commonmark-ghpages="" />    homepage: <span class="s1">'https://github.com/sapegn/jquery.awesomeplugin'</span>,<br data-jekyll-commonmark-ghpages="" />    ignore: <span class="o">[</span><br data-jekyll-commonmark-ghpages="" />        <span class="s1">'**/.*'</span>,<br data-jekyll-commonmark-ghpages="" />        <span class="s1">'node_modules'</span>,<br data-jekyll-commonmark-ghpages="" />        <span class="s1">'bower_components'</span>,<br data-jekyll-commonmark-ghpages="" />        <span class="s1">'test'</span>,<br data-jekyll-commonmark-ghpages="" />        <span class="s1">'tests'</span><br data-jekyll-commonmark-ghpages="" />    <span class="o">]</span>,<br data-jekyll-commonmark-ghpages="" />    <span class="s2">"dependencies"</span>: <span class="o">{</span><br data-jekyll-commonmark-ghpages="" />        <span class="s2">"jquery"</span>: <span class="s2">"~2.1.0"</span><br data-jekyll-commonmark-ghpages="" />    <span class="o">}</span><br data-jekyll-commonmark-ghpages="" /><span class="o">}</span><br data-jekyll-commonmark-ghpages="" /><br data-jekyll-commonmark-ghpages="" /><span class="o">[</span>?] Looks good? Yes</code></pre></figure><p>И хотя обязательно нужно заполнить только имя пакета (поле <code class="highlighter-rouge">name</code>), остальные поля тоже очень полезны:<ul><li><code class="highlighter-rouge">description</code> и <code class="highlighter-rouge">keywords</code> помогут пользователям найти вашу библиотеку через интерфейс поиска пакетов;<li><code class="highlighter-rouge">main</code> определяет главный файл пакета. Это поле может быть использовано автоматическими сборщиками, такими как grunt-bower-concat;<li><code class="highlighter-rouge">license</code> — всегда указывайте лицензию: она говорит потенциальному пользователю вашего пакета, сможет ли он использовать его в своём проекте. Например, лицензия GPL требует, чтобы любой использующий её проект тоже распространялся по этой лицензии, что не всегда возможно;<li><code class="highlighter-rouge">ignore</code> — по умолчанию Бовер скачивает весь репозиторий, что, во-первых, увеличивает время установки, а, во-вторых, добавляет в проект лишние файлы. Лучше всего исключить всё, кроме необходимых для работы пакета файлов (главный JS-файл, CSS и так далее), лицензии и ридми;<li><code class="highlighter-rouge">dependencies</code> — все пакеты, от которых зависит ваш пакет.</ul><p>Теперь нужно закоммитить <code class="highlighter-rouge">bower.json</code>, создать гит-тег с последней версией и запушить всё в удалённый репозиторий:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>git add bower.json<br data-jekyll-commonmark-ghpages="" /><span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"Add bower.json."</span><br data-jekyll-commonmark-ghpages="" /><span class="nv">$ </span>git tag <span class="s2">"v0.0.1"</span><br data-jekyll-commonmark-ghpages="" /><span class="nv">$ </span>git push origin <span class="nt">--tags</span></code></pre></figure><p>Вот теперь можно регистрировать пакет:<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>bower register jquery-awesomeplugin git://github.com/sapegin/jquery-awesomeplugin.git</code></pre></figure><p>Дальше Бовер сам будет проверять обновления пакета, главное не забывать создавать гит-тег для каждой новой версии.<p>Для облегчения обновления своих пакетов можно воспользоваться такими инструментами, как <a href="https://github.com/vojtajina/grunt-bump">grunt-bump</a> или <a href="https://github.com/mikaelbr/mversion">mversion</a>.<p align="right"><small><em>Источник: http://nano.sapegin.ru/all/bower</em></small><div class="post-links"> <a class="link-to-post" href="/blog/how-to-display-information-only-on-main-page/"> <span class="link-to-post__next">&#10535; &nbsp;Next post</span> <span class="link-to-post__title">Как отображать информацию только на главной странице</span> </a> <a class="link-to-post" href="/blog/github-or-dropbox-where-did-come-from/"> <span class="link-to-post__prev">&#10535; &nbsp;Previous post</span> <span class="link-to-post__title">Гитхаб или Дропбокс. Откуда вообще взялось «или»?</span> </a></div></div></article></main><footer class="blog-footer content-wrapper"><p>&copy; <span class="full-year"></span> denisnovikov.github.io</footer><script src="/assets/js/scripts.js"></script>  <script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function () { try { w.yaCounter45975960 = new Ya.Metrika({ id: 45975960, clickmap: true, trackLinks: true, accurateTrackBounce: true, webvisor: true }); } catch (e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks"); </script> <noscript><div> <img src="https://mc.yandex.ru/watch/45975960" style="position:absolute; left:-9999px;" alt="" /></div></noscript>  <!--Openstat--> <span id="openstat1"></span> <script type="text/javascript"> var openstat = { counter: 1, next: openstat }; (function(d, t, p) { var j = d.createElement(t); j.async = true; j.type = "text/javascript"; j.src = ("https:" == p ? "https:" : "http:") + "//openstat.net/cnt.js"; var s = d.getElementsByTagName(t)[0]; s.parentNode.insertBefore(j, s); })(document, "script", document.location.protocol); </script> <!--/Openstat-->
