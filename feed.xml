<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="ru"><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="https://denisnovikov.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://denisnovikov.github.io/" rel="alternate" type="text/html" hreflang="ru" /><updated>2017-12-15T08:39:28+03:00</updated><id>https://denisnovikov.github.io/</id><title type="html">denisnovikov.github.io</title><subtitle>Хранилище разнообразной информации</subtitle><entry><title type="html">Черные методы продвижения сайтов. Что не стоит делать, если хотите вывести сайт в ТОП</title><link href="https://denisnovikov.github.io/blog/black-website-promotion-how-not-to-do/" rel="alternate" type="text/html" title="Черные методы продвижения сайтов. Что не стоит делать, если хотите вывести сайт в ТОП" /><published>2017-10-30T21:15:00+03:00</published><updated>2017-10-30T21:15:00+03:00</updated><id>https://denisnovikov.github.io/blog/black-website-promotion-how-not-to-do</id><content type="html" xml:base="https://denisnovikov.github.io/blog/black-website-promotion-how-not-to-do/">&lt;p&gt;Задача владельцев сайтов — поднять свой ресурс на самое высокое место в поисковой выдаче. Они готовы сделать все, чтобы увидеть свой проект в ТОПе: кто-то применяет белые методы продвижения сайта, а кто-то не прочь воспользоваться и черным продвижением, лишь бы его детище было на вершине.&lt;/p&gt;

&lt;p&gt;Поисковые системы уже давно научились распознавать недобросовестные манипуляции, разрабатывая новые алгоритмы. Они стараются избавиться от сайтов, которые продвигаются нечестным путем, и отдают предпочтение только качественным и грамотно оптимизированным ресурсам.&lt;/p&gt;

&lt;h2 id=&quot;Черные-методы-раскрутки-которые-мыНЕ-рекомендуем&quot;&gt;Черные методы раскрутки, которые мы НЕ рекомендуем&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Спам.&lt;/strong&gt; Не пытайтесь упоминать о своем ресурсе везде, особенно там, где это не уместно. Информация о вашем сайте на форумах, в блогах, на досках объявлений, в рассылках должна быть по делу. Не стоит, например, размещать рекламу о сайте с кальянами на форуме молодых мам.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Обмен и покупка ссылок.&lt;/strong&gt; Начиная с 2013 года, Яндекс стал активно бороться с некачественными ссылками. Многие владельцы сайтов с большим количеством входящих ссылок столкнулись с Минусинском. Не занимайтесь покупкой ссылок, все ссылки должны быть с хороших ресурсов, тематически подходящих вашему. Помните, что для ссылочной массы сейчас важно не количество, а их качество.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Дорвеи и клоакинг.&lt;/strong&gt; Дорвей — сайт, созданный для перенаправления пользователя на продвигаемый ресурс. Для перенаправления используется redirect. Содержимое таких страниц состоит из бессвязных предложений с огромным количеством ключевых запросов. Такие сайты захламляют просторы Интернета и жестоко караются поисковыми системами.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Размещение невидимого или плохо заметного текста.&lt;/strong&gt; Размещение такого текста грозит получением фильтра от Яндекса, поисковики страницы со скрытым текстом исключают из поиска.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Накрутка поведенческих факторов.&lt;/strong&gt; Когда-то можно было повлиять на выдачу за счет накрутки ПФ, но сейчас поисковики умеют определять, был ли применен данный инструмент и все ли показатели естественные. Не заказывайте накрутку поведенческих факторов у посредников, ни к чему хорошему это не приведет.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Переспам текста ключевыми запросами.&lt;/strong&gt; Все чаще владельцы сайтов сталкиваются с фильтром Баден-Баден, борющимся с текстовым спамом. Лайфхак от копирайтеров: на 300–500 символов рекомендуется использовать 1 ключевой запрос.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Много ссылок и кнопок на главной странице.&lt;/strong&gt; Допустимо, если в этом есть реальная необходимость.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Flash-анимация.&lt;/strong&gt; Такие сайты продвигать очень трудно. Найти их в ТОПе практически невозможно, но исключения бывают. Старайтесь не строить свой ресурс полностью на flash-элементах.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Каждый владелец веб-сайта должен поставить перед собой задачу не просто раскрутить свой проект, а сделать его интересным и удобным для пользователей. Сайты создаются в первую очередь для людей, а поисковые системы всячески способствуют тому, чтобы ресурсы развивались и были качественными.&lt;/p&gt;

&lt;h2 id=&quot;Несколько-советов-как-продвигать-сайт&quot;&gt;Несколько советов, как продвигать сайт&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Уделите внимание дизайну вашего сайта и удобству для посетителей.&lt;/strong&gt; Дизайн должен быть приятным, без ярких режущих глаз цветов. Делайте цветовую гамму размеренной, сочетайте шрифты. Создайте удобное меню, чтобы человек не ломал голову, где и что искать ему на сайте.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Грамотно оптимизируйте контент&lt;/strong&gt; (составьте семантическое ядро, оптимизируйте под него тексты, метатеги и пр.).&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Настройте все технические параметры&lt;/strong&gt; (правильно подберите URL (лучше если ЧПУ будут с включением ключевых запросов), настройте файлы sitemap.xml и robots.txt для правильной индексации сайта, настройте редиректы для зеркал сайта, исключите все дубли, настройте разметку контактов и карточек товаров и т. д.).&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Добавьте сайт в Вебмастера&lt;/strong&gt; Яндекса, Гугла, также нелишним будет добавление в Майле и Бинге.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Займитесь узнаваемостью сайта (компании) в сети.&lt;/strong&gt; Добавьте информацию о сайте на самые популярные площадки Интернета (Яндекс и Гугл Карты, справочники организаций (2ГИС, Фламп, Желтые страницы и др.)).&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Займитесь наращиванием ссылочной массы,&lt;/strong&gt; но помните, что выше мы говорили о покупных и обменных ссылках. Еще один лайфхак: ссылки можно получать с помощью крауд-маркетинга, но делать это нужно правильно.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Разработайте мобильную версию сайта.&lt;/strong&gt; Пользователей из мобильных источников становится все больше и больше, сделайте свой ресурс удобным для просмотра на смартфонах и планшетах.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Используйте SMM-продвижение.&lt;/strong&gt; Продвижение в социальных сетях очень актуально в наше время. Большая ошибка — пренебрегать созданием групп в соцсетях и их продвижением.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Всегда помните о своем проекте.&lt;/strong&gt; Не забывайте вовремя оплачивать хостинг и домен. Если робот или пользователь зайдут на неработающий сайт из-за несвоевременной оплаты, это скажется только отрицательно. Также всегда старайтесь обновлять контент, особенно это важно для новостных ресурсов. Если на сайте есть новости, обновляйте их хотя бы раз в месяц, чтобы пользователь видел, что над ресурсом работают.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Данные рекомендации общие, каждый сайт имеет свою направленность. Сайт интернет-магазина и портал продвигаются разными способами, и план раскрутки для каждого будет свой.&lt;/p&gt;</content><author><name>1ps.ru</name></author><category term="other" /><summary type="html">Задача владельцев сайтов — поднять свой ресурс на самое высокое место в поисковой выдаче. Они готовы сделать все, чтобы увидеть свой проект в ТОПе: кто-то применяет белые методы продвижения сайта, а кто-то не прочь воспользоваться и черным продвижением, лишь бы его детище было на вершине.</summary></entry><entry><title type="html">Как установить Linux, Nginx, MySQL, PHP (LEMP) в Ubuntu 16.04</title><link href="https://denisnovikov.github.io/blog/linux-nginx-mysql-php-lemp-ubuntu-16-04-ru/" rel="alternate" type="text/html" title="Как установить Linux, Nginx, MySQL, PHP (LEMP) в Ubuntu 16.04" /><published>2017-03-07T21:15:00+03:00</published><updated>2017-03-07T21:15:00+03:00</updated><id>https://denisnovikov.github.io/blog/linux-nginx-mysql-php-lemp-ubuntu-16-04-ru</id><content type="html" xml:base="https://denisnovikov.github.io/blog/linux-nginx-mysql-php-lemp-ubuntu-16-04-ru/">&lt;p&gt;Стек LEMP представляет собой набор программного обеспечения, который используется для отображения динамических веб-страниц и веб-приложений. Этот акроним обозначает операционную систему Linux и веб-сервер Nginx. Данные при этом хранятся в базе данных MySQL, а динамическое отображение страниц выполняется средствами PHP.&lt;/p&gt;

&lt;p&gt;В этой статье мы продемонстрируем процесс установки стека LEMP на сервер с Ubuntu 16.04. Операционная система Ubuntu удовлетворяет первому требованию LEMP - это операционная система на базе Linux. Далее мы опишем процесс установки остальных компонентов стека LEMP.&lt;/p&gt;

&lt;h2 id=&quot;Перед-установкой&quot;&gt;Перед установкой&lt;/h2&gt;

&lt;p&gt;Перед тем, как начать следовать описанным в этой статье шагам, убедитесь, что у вас есть обычный не-рутовый (non-root) пользователь с привилегиями &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo&lt;/code&gt;. Узнать, как настроить такого пользователя на вашем сервере, можно из &lt;a href=&quot;https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-16-04&quot;&gt;статьи о первичной настройке сервера на Ubuntu 16.04&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;После того, как вы создали такого пользователя, зайдите на сервер используя его логин и пароль. Теперь вы готовы следовать шагам, описанным в этой статье.&lt;/p&gt;

&lt;h2 id=&quot;Шаг-1---Установка-веб-сервера-nginx&quot;&gt;Шаг 1 - Установка веб-сервера Nginx&lt;/h2&gt;

&lt;p&gt;Для отображения веб-страниц вашего сайта мы будем использовать Nginx - современный и эффективный веб-сервер.&lt;/p&gt;

&lt;p&gt;Всё программное обеспечение, которое мы будем использовать, будет установлено из стандартных репозиториев Ubuntu. Это означает, что мы можем использовать пакетный менеджер &lt;strong&gt;apt&lt;/strong&gt; для установки.&lt;/p&gt;

&lt;p&gt;Поскольку мы собираемся использовать &lt;strong&gt;apt&lt;/strong&gt; в первый раз в ходе этой сессии, начнём с обновления локального списка пакетов. Далее установим сервер:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get update&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get install nginx&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;В Ubuntu 16.04 Nginx настроен для запуска сразу после установки.&lt;/p&gt;

&lt;p&gt;Если вы используете файрвол &lt;code class=&quot;highlighter-rouge&quot;&gt;ufw&lt;/code&gt;, как описано в нашей статье о первичной настройке сервера, вам потребуется разрешить соединения для Nginx. В процессе установки Nginx регистрирует себя в &lt;code class=&quot;highlighter-rouge&quot;&gt;ufw&lt;/code&gt;, поэтому процедура настройки достаточно проста.&lt;/p&gt;

&lt;p&gt;Рекомендуется настраивать &lt;code class=&quot;highlighter-rouge&quot;&gt;ufw&lt;/code&gt; таким образом, чтобы разрешать только тот трафик, который вы хотите разрешить в явном виде. Поскольку мы ещё не настроили SSL для нашего сервера, в этой статье мы разрешим трафик только для порта 80.&lt;/p&gt;

&lt;p&gt;Сделать это можно следующей командой:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;ufw allow &lt;span class=&quot;s1&quot;&gt;'Nginx HTTP'&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Вы можете проверить изменения введя команду:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;ufw status&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;В результате должен отобразиться вывод следующего вида:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Status: active&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;To                         Action      From&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt;                         &lt;span class=&quot;nt&quot;&gt;------&lt;/span&gt;      &lt;span class=&quot;nt&quot;&gt;----&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;OpenSSH                    ALLOW       Anywhere&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;Nginx HTTP                 ALLOW       Anywhere&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;OpenSSH &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;v6&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;               ALLOW       Anywhere &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;v6&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;Nginx HTTP &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;v6&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;            ALLOW       Anywhere &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;v6&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Теперь, когда мы разрешили трафик на порту 80, вы можете проверить, можно ли осуществить доступ к вашему серверу используя доменное имя или публичный IP адрес сервера в веб-браузере.&lt;/p&gt;

&lt;p&gt;Если у вас нет доменного имени, присвоенного серверу, и вы не знаете публичного IP адреса сервера, вы можете найти этот IP адрес следующей командой:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;ip addr show eth0 | &lt;span class=&quot;nb&quot;&gt;grep &lt;/span&gt;inet | awk &lt;span class=&quot;s1&quot;&gt;'{ print $2; }'&lt;/span&gt; | sed &lt;span class=&quot;s1&quot;&gt;'s/\/.*$//'&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;В результате будет выведено несколько IP адресов. Попробуйте вставить каждый из них в браузер.&lt;/p&gt;

&lt;p&gt;Другим способом определить свой IP адрес будет проверка, как ваш сервер виден из Интернета:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;curl &lt;span class=&quot;nt&quot;&gt;-4&lt;/span&gt; icanhazip.com&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Наберите полученный IP адрес в вашем веб-браузере. Вы должны увидеть страницу Nginx по умолчанию.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;http://доменное_имя_или_IP_адрес&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;a href=&quot;/assets/images/linux/linux-nginx-mysql-php-lemp-ubuntu-16-04-ru/linux-nginx-mysql-php-lemp-ubuntu-16-04-ru-01.png&quot;&gt;&lt;img src=&quot;/assets/images/linux/linux-nginx-mysql-php-lemp-ubuntu-16-04-ru/linux-nginx-mysql-php-lemp-ubuntu-16-04-ru-01.png&quot; alt=&quot;Страница Nginx по умолчанию&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Если вы видите подобную страницу в своём браузере, вы успешно установили Nginx.&lt;/p&gt;

&lt;h2 id=&quot;Шаг-2---Установка-mysql-для-хранения-данных-сайта&quot;&gt;Шаг 2 - Установка MySQL для хранения данных сайта&lt;/h2&gt;

&lt;p&gt;Теперь, когда у нас есть веб-сервер, установим систему управления базами данных MySQL для хранения и управления данным нашего сайта.&lt;/p&gt;

&lt;p&gt;Вы можете легко установить MySQL следующей командой:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get install mysql-server&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;В процессе установки вам будет предложено ввести рутовый пароль (пароль администратора) для MySQL.&lt;/p&gt;

&lt;p&gt;После завершения установки нам потребуется выполнить некоторые дополнительные команды, чтобы наше окружение MySQL было настроено безопасным образом. Введите следующую команду:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;mysql_secure_installation&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Скрипт запросит пароль, который вы только что задали для root пользователя в MySQL. Далее вам будет предложено сконфигурировать плагин валидации паролей (&lt;code class=&quot;highlighter-rouge&quot;&gt;VALIDATE PASSWORD PLUGIN&lt;/code&gt;).&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Внимание:&lt;/strong&gt; решение включать плагин валидации паролей или нет носит субъективный характер. При включении все пароли,
которые не удовлетворяют определённым критериям безопасности, будут отвергаться MySQL с сообщением об ошибке. Это
может вызывать проблемы, если вы используете “слабые” пароли совместно с программным обеспечением, которое
конфигурирует профили пользователей MySQL, например, пакеты Ubuntu для phpMyAdmin. Вы можете оставить валидацию
паролей отключенной, но в этом случае вам следует всегда использовать “сильные” уникальные пароли для пользователей
базы данных.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Введите &lt;strong&gt;y&lt;/strong&gt; для включения плагина или что-нибудь другое для продолжения без его включения:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;VALIDATE PASSWORD PLUGIN can be used to &lt;span class=&quot;nb&quot;&gt;test &lt;/span&gt;passwords&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;and improve security. It checks the strength of password&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;and allows the users to &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;only those passwords which are&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;secure enough. Would you like to setup VALIDATE PASSWORD plugin?&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;Press y|Y &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;Yes, any other key &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;No:&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Если вы включили валидацию паролей, вам будет предложено установить уровень надёжности паролей при валидации. Имейте в виду, что при выборе значения &lt;strong&gt;2&lt;/strong&gt; (самый строгий уровень валидации), вы будете получать ошибки при попытке задать пароль без цифр, букв в верхнем и нижнем регистре, а также без специальных символов, а также при попытке использовать пароль, основанный на распространённых словах, которые уязвимы для подбора паролей по словарю.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;There are three levels of password validation policy:&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;LOW    Length &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; 8&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;MEDIUM Length &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; 8, numeric, mixed &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt;, and special characters&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;STRONG Length &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; 8, numeric, mixed &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt;, special characters and dictionary file&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;Please enter 0 &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; LOW, 1 &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; MEDIUM and 2 &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; STRONG: 1&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Если вы включили валидацию паролей, вам будет показан уровень надёжности заданного вами ранее пароля root пользователя, а также вам будет предложено изменить этот пароль. Если вы не хотите менять пароль, введите &lt;strong&gt;n&lt;/strong&gt; или &lt;strong&gt;no&lt;/strong&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Using existing password &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;root.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;Estimated strength of the password: 100&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;Change the password &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;root ? &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;Press y|Y &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;Yes, any other key &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;No&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; : n&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;На все последующие вопросы просто вводите &lt;strong&gt;Y&lt;/strong&gt; и нажимайте клавишу &lt;strong&gt;ENTER&lt;/strong&gt; для выбора настроек по умолчанию. При этом удалятся некоторые тестовые пользователи и базы данных, будет отключена возможность удаленного доступа с учетной записью root-пользователя, и все изменения будут немедленно применены в MySQL.&lt;/p&gt;

&lt;p&gt;Теперь ваша система управления базами данных установлена и мы можем двигаться дальше.&lt;/p&gt;

&lt;h2 id=&quot;Шаг-3---Установка-php&quot;&gt;Шаг 3 - Установка PHP&lt;/h2&gt;

&lt;p&gt;Теперь у нас есть веб-сервер Nginx для отображения нашего сайта, а также MySQL для хранения данных сайта. Нам осталось установить что-то, что позволит генерировать динамический контент для сайта. Для этого мы будем использовать PHP.&lt;/p&gt;

&lt;p&gt;Поскольку Nginx не имеет встроенной поддержки обработки PHP, как некоторые другие веб-серверы, нам необходимо установить &lt;code class=&quot;highlighter-rouge&quot;&gt;php-fpm&lt;/code&gt; (означает “fastCGI process manager”, менеджер процессов fastCGI). Мы настроим Nginx для передачи PHP запросов этому программному обеспечению для обработки.&lt;/p&gt;

&lt;p&gt;Установим этот модуль, а также установим дополнительный пакет, который позволит PHP взаимодействовать с MySQL. В процессе установки будут загружены основные файлы PHP. Сделаем это следующей командой:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get install php-fpm php-mysql&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;Настройка-обработчика-php&quot;&gt;Настройка обработчика PHP&lt;/h3&gt;

&lt;p&gt;После установки компонентов PHP настроим их для повышения безопасности нашего веб-сервера.&lt;/p&gt;

&lt;p&gt;Откроем конфигурационный файл &lt;code class=&quot;highlighter-rouge&quot;&gt;php-fpm&lt;/code&gt; с привилегиями root:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;nano /etc/php/7.0/fpm/php.ini&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Найдём в этом файле параметр &lt;code class=&quot;highlighter-rouge&quot;&gt;cgi.fix_pathinfo&lt;/code&gt;. Он будет закомментирован точкой с запятой (;) и будет иметь значение “1” по умолчанию.&lt;/p&gt;

&lt;p&gt;Эти настройки по умолчанию очень небезопасны, потому что благодаря им PHP попытается исполнить ближайший файл, который сможет найти в случае, когда запрашиваемый PHP файл не может быть найден. Это позволит пользователям сформировать PHP запросы таким образом, чтобы запускать скрипты, к которым у них не должно быть доступа.&lt;/p&gt;

&lt;p&gt;Мы можем предотвратить такое поведение раскомментировав эту строку и изменив её значение на “0”:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ini&quot; data-lang=&quot;ini&quot;&gt;&lt;span class=&quot;c&quot;&gt;# /etc/php/7.0/fpm/php.ini&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;cgi.fix_pathinfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Сохраните и закройте документ после внесения изменений.&lt;/p&gt;

&lt;p&gt;Теперь нам осталось перезапустить обработчик PHP:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;systemctl restart php7.0-fpm&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;После перезапуска наши настройки вступят в силу.&lt;/p&gt;

&lt;h2 id=&quot;Шаг-4---Настройка-nginx-для-работы-с-обработчиком-php&quot;&gt;Шаг 4 - Настройка Nginx для работы с обработчиком PHP&lt;/h2&gt;

&lt;p&gt;Теперь у нас установлены все необходимые компоненты. Единственное, что нам осталось сделать, это настроить Nginx для использования нашего обработчика PHP для отображения динамического контента.&lt;/p&gt;

&lt;p&gt;Мы сделаем это на уровне серверных блоков (серверные блоки являются приблизительным аналогом виртуальных хостов в Apache). Откроем серверный блок Nginx сервера по умолчанию командой:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;nano /etc/nginx/sites-available/default&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Этот файл должен иметь примерно следующий вид:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# /etc/nginx/sites-available/default&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;default_server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;[::]:80&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;default_server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/var/www/html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.html&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.htm&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.nginx-debian.html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;        &lt;span class=&quot;kn&quot;&gt;try_files&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$uri&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$uri&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;404&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Нам необходимо внести несколько изменений в этот файл для нашего сайта.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Прежде всего, нам необходимо добавить &lt;code class=&quot;highlighter-rouge&quot;&gt;index.php&lt;/code&gt; первым значением директивы &lt;code class=&quot;highlighter-rouge&quot;&gt;index&lt;/code&gt;, чтобы веб-сервер в первую очередь искал файлы &lt;code class=&quot;highlighter-rouge&quot;&gt;index.php&lt;/code&gt;;&lt;/li&gt;
  &lt;li&gt;Мы можем изменить директиву &lt;code class=&quot;highlighter-rouge&quot;&gt;server_name&lt;/code&gt; для указания доменного имени сервера или его публичного IP адреса;&lt;/li&gt;
  &lt;li&gt;Для корректной обработки PHP нам необходимо раскомментировать часть файла, которая отвечает за обработку PHP запросов. Это блок &lt;code class=&quot;highlighter-rouge&quot;&gt;location ~\.php$&lt;/code&gt;, кусок кода &lt;code class=&quot;highlighter-rouge&quot;&gt;fastcgi-php.conf&lt;/code&gt; и сокет для работы с &lt;code class=&quot;highlighter-rouge&quot;&gt;php-fpm&lt;/code&gt;;&lt;/li&gt;
  &lt;li&gt;Мы также раскомментируем код, отвечающий за работу с файлами &lt;code class=&quot;highlighter-rouge&quot;&gt;.htaccess&lt;/code&gt;. Nginx не обрабатывает эти файлы. Если какие-то из этих файлов окажутся в корневой директории сайта, они не должны быть доступны пользователям.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Изменения, которые необходимо внести в этот файл помечены красным:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-nginx&quot; data-lang=&quot;nginx&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# /etc/nginx/sites-available/default&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;default_server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;listen&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;[::]:80&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;default_server&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;root&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/var/www/html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.php&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.html&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.htm&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;index.nginx-debian.html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;server_name&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;доменное_имя_или_IP_адрес_сервера&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;        &lt;span class=&quot;kn&quot;&gt;try_files&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$uri&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$uri&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;404&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;\.php$&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;        &lt;span class=&quot;kn&quot;&gt;include&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;snippets/fastcgi-php&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;.conf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;        &lt;span class=&quot;kn&quot;&gt;fastcgi_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;unix:/run/php/php7.0-fpm.sock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;kn&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/\.ht&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;        &lt;span class=&quot;kn&quot;&gt;deny&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;После внесения изменений сохраните и закройте файл.&lt;/p&gt;

&lt;p&gt;Проверьте ваш файл конфигурации на наличие ошибок командой:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;nginx &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Если в результате обнаружены какие-либо ошибки, откройте файл и исправьте их перед тем, как продолжить.&lt;/p&gt;

&lt;p&gt;Когда всё готово, перезапустите Nginx для применения внесённых изменений:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;systemctl reload nginx&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;Шаг-5---Создание-файла-php-для-проверки-настроек&quot;&gt;Шаг 5 - Создание файла PHP для проверки настроек&lt;/h2&gt;

&lt;p&gt;Теперь ваш стек LEMP должен быть полностью готов к работе. Мы можем проверить, что Nginx корректно передаёт &lt;code class=&quot;highlighter-rouge&quot;&gt;.php&lt;/code&gt; файлы нашему обработчику PHP.&lt;/p&gt;

&lt;p&gt;Для этого создадим тестовый PHP файл в корневой директории веб-сервера. Откройте файл с именем &lt;code class=&quot;highlighter-rouge&quot;&gt;info.php&lt;/code&gt; в корневой директории веб-сервера с помощью текстового редактора:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;nano /var/www/html/info.php&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Наберите или введите следующие строки в этот новый файл. Этот код PHP возвращает информацию о нашем сервере:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot; data-lang=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;    &lt;span class=&quot;c1&quot;&gt;// /var/www/html/info.php&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;    &lt;span class=&quot;nb&quot;&gt;phpinfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;После внесения изменений сохраните и закройте файл.&lt;/p&gt;

&lt;p&gt;Теперь мы можем проверить, может ли веб-сервер корректно отображать контент, сгенерированный PHP скриптом. Для проверки нам просто нужно открыть данную страницу в веб-браузере. Вам снова потребуется публичный IP-адрес сервера.&lt;/p&gt;

&lt;p&gt;Откроем этот адрес:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;http://домен_или_IP_адрес_сервера/info.php&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Страница, на которую вы попадёте, должна выглядеть похожим образом:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/images/linux/linux-nginx-mysql-php-lemp-ubuntu-16-04-ru/linux-nginx-mysql-php-lemp-ubuntu-16-04-ru-02.png&quot;&gt;&lt;img src=&quot;/assets/images/linux/linux-nginx-mysql-php-lemp-ubuntu-16-04-ru/linux-nginx-mysql-php-lemp-ubuntu-16-04-ru-02.png&quot; alt=&quot;Тестовая страница PHP&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Если вы видите эту страницу, вы успешно настроили обработку PHP с помощью Nginx.&lt;/p&gt;

&lt;p&gt;После того, как мы убедились, что всё работает, удалим этот файл, чтобы не давать неавторизованным пользователям возможности узнать дополнительную информацию о вашем сервере. При необходимости, вы всегда можете создать этот файл заново.&lt;/p&gt;

&lt;p&gt;Удалим файл командой:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;rm /var/www/html/info.php&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;Заключение&quot;&gt;Заключение&lt;/h2&gt;

&lt;p&gt;Теперь у вас есть полностью настроенный стек LEMP на вашем сервере Ubuntu 16.04. Этот стек представляет собой прочный фундамент дальнейшей работы по предоставлению вашим пользователям веб-контента.&lt;/p&gt;</content><author><name>digitalocean.com</name></author><category term="linux" /><summary type="html">Стек LEMP представляет собой набор программного обеспечения, который используется для отображения динамических веб-страниц и веб-приложений. Этот акроним обозначает операционную систему Linux и веб-сервер Nginx. Данные при этом хранятся в базе данных MySQL, а динамическое отображение страниц выполняется средствами PHP.</summary></entry><entry><title type="html">От вас ничего не зависит, когда вы заказываете разработку интернет-магазина</title><link href="https://denisnovikov.github.io/blog/nothing-depends-on-you-when-you-order-a-design-online-store/" rel="alternate" type="text/html" title="От вас ничего не зависит, когда вы заказываете разработку интернет-магазина" /><published>2017-03-01T21:15:00+03:00</published><updated>2017-03-01T21:15:00+03:00</updated><id>https://denisnovikov.github.io/blog/nothing-depends-on-you-when-you-order-a-design-online-store</id><content type="html" xml:base="https://denisnovikov.github.io/blog/nothing-depends-on-you-when-you-order-a-design-online-store/">&lt;p&gt;Сегодня поделюсь с вами одной мыслью, даже, наверное, секретом, который знают все разработчики сайтов, но никогда не произносят вслух. Знают его все, и крупные студии, работающие с компаниями уровня Газпрома и Сбербанка и мелкие фирмочки, состоящие из одного фрилансера. Секрет очень прост, состоит всего из одного короткого предложения:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;В разработке веб-сайта от клиента ничего не зависит.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Максимум что он может сделать, чтобы улучшить результат — правильно выбрать подрядчика.&lt;/p&gt;

&lt;p&gt;Мысль неприятная, и требуется разъяснить, что это значит. То, какой интернет-магазин будет сделан клиенту (хороший, плохой или «на троечку») от него не зависит, хотя работа им оплачивается. В процессе работы, клиент может утверждать дизайн, вносить правки, предлагать идеи. Но это всё детали, которые на результат слабо влияют. А результат, в данном случае, это не наличие магазина в интернете. Он будет сделан, с этим проблемы обычно нет. Проблема всегда в качестве работы и эффективности сайта.&lt;/p&gt;

&lt;p&gt;Есть выражение «Кто платит тот и заказывает музыку». Есть другое выражение «Кто музыку заказывает тот под нее и танцует». Из двух этих крылатых фраз, популярных на рабочих окраинах любого города, можно сделать вывод, что если уж заказал музыку — придется под нее танцевать, как бы плохо не играли музыканты. Вам будет проще, если у вас плохой слух и вы не чувствуете фальши, главное чтобы бренчали знакомые мотивы. Детали не важны.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;С сайтами точно так же. Один в один. Когда клиент заказал интернет-магазин и оплатил работу, он может только наедятся что &lt;del&gt;музыканты&lt;/del&gt; разработчики, к которым он обратился, знают свое дело.&lt;/strong&gt; Потому что сам он слуха не имеет — не разбирается в веб-разработке. Внешне для клиента все движется вроде бы нормально. Процесс идет, что-то даже уже готово. Бренчат знакомые мотивы. Сайт готов и даже работает в интернете. Вот только ищется плохо, глючит, медленно открывается, посетителей на сайте почти не бывает. Пробовали давать рекламу, но это тоже не помогает, почему-то ничего не заказывают. Приходится работать, как привыкли — без интернет-магазина, но раз уж его заказали и оплатили, пусть висит в интернете с товарами и новостями полугодовой давности. Таких сайтов в интернете миллионы.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Я вам больше скажу, от клиента ничего не зависит не только в веб-сайтах, а почти везде. Например, если вы пришли
лечить зубы — молитесь, чтобы музыкант не фальшивил.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Не будем отвлекаться от веб-разработки. Качество сайта / интернет-магазина, что бы вы ни решили заказать, зависит исключительно от компетенций разработчика. Но заказчику, определить эту компетенцию почти нереально. Более того, заказчику даже после окончания всех работ компетенция разработчика не ясна.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Толи сделали хреново, толи нам не повезло — так примерно думает клиент.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Потому что на словах каждый веб-разработчик Лев Толстой, а на деле далеко не всегда так.&lt;/p&gt;

&lt;p&gt;Кстати, отчасти в этом ответ, почему большие компании работают с дорогими студиями. Не потому что бюджет нужно освоить, просто работа с ними дает больше шансов на хороший результат. Платят не за сайт как таковой, а за то «чтобы все было нормально сделано».&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;Но ненужно думать, что делать сайты плохо — это мировой заговор недорогих сайтостроителей. Сайты это не колбаса, в которой количество мяса в прямой зависимости от цены.&lt;/strong&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Есть люди, которые просто не умеют делать плохо. У них есть знания, «как делать правильно» и заставить себя сделать иначе они не могут, даже если будут работать бесплатно. Есть другие, которым заплатите любые деньги, приставьте пистолет к голове и взведите курок — все равно накосячат. Просто человек не знает «как правильно», у него мало опыта, а иногда еще и совести нет. Поэтому для него фигачить брак — это в порядке вещей.&lt;/p&gt;

&lt;p&gt;Интернет-магазин сложен, прежде всего, второстепенными деталями. Именно их не видит слабый веб-разработчик, а заказчик вообще не подозревает о них. Помните как в фильме 12 стульев, Остап рисовал Сеятелья? Старался. А получилась ерунда. Так же делаются веб-проекты. Только в случае с интернет-магазином, клиент не может отличить халтуру от качественной работы. В музыкантов просьба не стрелять — играют, как умеют.&lt;/p&gt;</content><author><name>webdela.ru</name></author><category term="other" /><summary type="html">Сегодня поделюсь с вами одной мыслью, даже, наверное, секретом, который знают все разработчики сайтов, но никогда не произносят вслух. Знают его все, и крупные студии, работающие с компаниями уровня Газпрома и Сбербанка и мелкие фирмочки, состоящие из одного фрилансера. Секрет очень прост, состоит всего из одного короткого предложения:</summary></entry><entry><title type="html">Отображение ранее введенного пользователя в lightdm</title><link href="https://denisnovikov.github.io/blog/display-previously-entered-user-lightdm/" rel="alternate" type="text/html" title="Отображение ранее введенного пользователя в lightdm" /><published>2017-01-16T00:00:01+03:00</published><updated>2017-01-16T00:00:01+03:00</updated><id>https://denisnovikov.github.io/blog/display-previously-entered-user-lightdm</id><content type="html" xml:base="https://denisnovikov.github.io/blog/display-previously-entered-user-lightdm/">&lt;p&gt;Два месяца назад поставил на виртуалку новое окружение Cinnamon. Посмотреть и понять: стоит ли отказываться от привычного kde. При перезагрузке виртуалки, мне заново приходилось вводить логин. Это сильно мешает тем, что виртуалку переодически перезагружаю.&lt;/p&gt;

&lt;p&gt;Сначала я полез смотреть, что находится в &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/X11/default-display-manager&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; /etc/X11/default-display-manager&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;  usr/sbin/lightdm&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Из этого делаю вывод, что используется lightdm. Теперь нужно изменить строчку, которая отвечает за показ ранее введенных пользователей. Для начала делаем копию изменяемого файла и открываем файл на редактирование от суперпользователя:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;cp /etc/lightdm/lightdm.conf /etc/lightdm/lightdm.conf.bak&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;nano /etc/lightdm/lightdm.conf&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Теперь нужно перейти на 105 строку и раскомментировать строчку:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;greeter&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;hide&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;false&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Досточно убрать символ “#”, сохранить изменения и перезагрузить систему. Удачного использования.&lt;/p&gt;</content><author><name>DNovikov</name></author><category term="linux" /><summary type="html">Два месяца назад поставил на виртуалку новое окружение Cinnamon. Посмотреть и понять: стоит ли отказываться от привычного kde. При перезагрузке виртуалки, мне заново приходилось вводить логин. Это сильно мешает тем, что виртуалку переодически перезагружаю.</summary></entry><entry><title type="html">Почему не стоит слишком доверять кейсам?</title><link href="https://denisnovikov.github.io/blog/why-dont-trust-cases/" rel="alternate" type="text/html" title="Почему не стоит слишком доверять кейсам?" /><published>2016-10-09T21:15:00+03:00</published><updated>2016-10-09T21:15:00+03:00</updated><id>https://denisnovikov.github.io/blog/why-dont-trust-cases</id><content type="html" xml:base="https://denisnovikov.github.io/blog/why-dont-trust-cases/">&lt;p&gt;Вы замечали, что на одну проблему, которая есть у человека, найдется под десяток решений, порой совсем из разных опер? Проще говоря – каждый на рынке продает то, что у него есть, и если то, что у него есть, хоть немного решает вашу проблему, значит это будет позиционироваться как решение вашей проблемы.&lt;/p&gt;

&lt;h2 id=&quot;Каждый-продает-то-что-у-него-есть&quot;&gt;Каждый продает то, что у него есть&lt;/h2&gt;

&lt;p&gt;Незамужней женщине психолог продаст тренинг по выстраиванию отношений, пикапщик консультацию, на которой посоветует чаще бывать на людях, колдунья — амулет и волшебные капли, а сервис знакомств продаст вип-аккаунт. Разумеется, у всех в этом списке есть успешные кейсы. Это их продукт и они продают его всем.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Фейсконтроля в продажах нет. Выписывая счет, никто не сверяет, сколько пунктов в анкете покупателя совпадает с
портретом  идеального клиента, который рисовали маркетологи.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Даже если говорить не про онлайн-сервисы, у которых продажи платных аккаунтов автоматизированы — зашел, выбрал, оплатил, пользуйся (или не пользуйся), а про независимых маркетологов/ рекламщиков, то и здесь будет похожая картина. Какой бы ни был у них в загашнике арсенал инструментов, приемов, сервисов, рекламных площадок, продавать клиенту будут штуки более выгодные для себя. Необязательно выгодные в плане денег, выгода может быть в простоте реализации, интересности или помощи друзьям, у которых ночной клуб и ближайшая вечеринка остается без спонсора.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Реклама интернет-магазина молодежной одежды, путем раздачи флаеров в ночных клубах подвыпившей молодежи? Движуха есть
— эффекта нет, хотя, казалось бы, аудитория целевая, тамада ведущий хороший, конкурсы интересные.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;То же самое с более узкими специалистами. Спросите дизайнера «Как увеличить конверсию в интернет-магазине» и он предложит переделать дизайн: флет, адаптив, больше воздуха —все как полагается. Спросите сеошника, он расскажет про семантическое ядро, релевантность страниц запросам и скорость загрузки сайта.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Если пасечник объявит себя целителем от народной медицины, то будет лечить мёдом все — от простуды до переломов. Просто у него есть мёд и нужно его продавать.&lt;/strong&gt; Кейсы у себя на сайте разместит, понятное дело, только об успешных проектах, а отзывы, в том числе от тех, кому от перелома вроде как не сильно помогло, зато весь курс лечения было вкусно.&lt;/p&gt;

&lt;p&gt;Сервисы, дающие виджеты в аренду, пишут в своих блогах как увеличить конверсию при помощи виджетов (не удивительно? :-). Сервисы онлайн-консультанты, обещают рост продаж, нужно только добавить их код к себе на сайт. То же самое делают CRM, сервисы умных онлайн-рекомендаций и т. д. и т. п. Все вещают с позиции эксперта и с радостью продадут вам свою ерунду, даже если она вам не слишком нужна. &lt;strong&gt;Если всем им верить, то секрет успеха — обвешать сайт виджетами, подключить CRM, запустить рассылку и можно уходить на пенсию.&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Предостережение любителям простых решений: если выпить горсть волшебных таблеток, можно загреметь в реальную
больничку :-)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;В свете объявленного по ТВ кризиса, активизировались службы «холодных звонков». Температура этих холодных звонков – абсолютный ноль. Таргетинг такой же, уточнять информацию перед звонком? Не, не слышал. Даже на сайт не зайдут, чтобы, страницу контактов посмотреть. Я так понимаю, там робот по инету ищет контакты, раскладывает по каким-то общим темам, а уже люди звонят и на месте разбираются, кто, что, почему и как. Никого не волнует что вы магазин купальников микро-бикини, вам будут звонить и предлагать расширить ассортимент зимними шапками и перчатками. Я не знаю какая там конверсия именно в продажи, но такой подход порядком раздражжает.&lt;/p&gt;

&lt;p&gt;Если вы придете в SMM агентство чтобы продвигать «грузовики в лизинг», вам с радостью продадут полный спектр услуг. Отказывать не принято. В лучшем случае предупредят, что для сколько-то заметного эффекта нужно платить абонентку минимум 5-6 мес. И повезло, если SMM агентство делает, кроме SMM еще лендинги и контекстную рекламу. А если нет, значит, будет у «грузовиков в лизинг» группа в ВК или ФБ, с шутками про дальнобойщиков, фуры, красивыми девушками рядом с грузовиками и редкими статьями в стиле «продаем дырки, а не сверла» и, конечно, боты в подписчиках.&lt;/p&gt;

&lt;h2 id=&quot;К-чему-я-это-все-рассказывал&quot;&gt;К чему я это все рассказывал&lt;/h2&gt;

&lt;p&gt;Чтобы вы меньше доверяли кейсам и прочим success story :-). Даже если кейс не выдуман от начала до конца, то конкретно ваша польза в нем может сильно преувеличиваться.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Это как с витаминами. То, что они нужны — спора нет, но только их одних недостаточно, чтобы, например, не простывать.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Просто помните, что часть кейсов, которые вы читаете — фейк, ничем не отличаются от баек. Правда в них — это только название сервиса — главного героя. Придумывается клиент, придумывается история и пишется кейс, вот и вся кухня.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;В комментах по такими кейсами хочется дописать: «Все персонажи вымышленные, любые совпадения с реальностью —
случайность».&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;В других кейсах красивые показатели притянуты за уши. Например, клиент год платил абонентскую плату сеошнику и через год трафик с нуля вырос до 250 посетителей в сутки. Скриншоты графиков роста посещаемости из я.метрики, все дела. Но при регулярном пополнении сайта тематическим контентом, в сколько-то популярной нише этот же показатель может быть получен без услуг по продвижению.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Кейсы пишутся с той же целью, с которой крутят по телеку рекламные ролики.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Иногда кейс или хорошую статью просто переводят с английского. У читателя создается ощущение будто компания, на сайте которой он читает текст, имеет какое-то отношение к описанному. Такое, кстати, часто можно встретить в бизнес-литературе, когда автор рассказывает об известных личностях так, как будто они с первого класса вместе, а на самом деле повторяет известные факты, под своим соусом.&lt;/p&gt;

&lt;p&gt;В следующий раз, когда будете читать на сайте очередного интернет-сервиса, SMM-агентства, студии контент-маркетинга или независимого консультанта классные истории о том, как было до и как стало после, не забывайте — все врут!&lt;/p&gt;</content><author><name>webdela.ru</name></author><category term="other" /><summary type="html">Вы замечали, что на одну проблему, которая есть у человека, найдется под десяток решений, порой совсем из разных опер? Проще говоря – каждый на рынке продает то, что у него есть, и если то, что у него есть, хоть немного решает вашу проблему, значит это будет позиционироваться как решение вашей проблемы.</summary></entry><entry><title type="html">Настройка экрана входа lightdm-gtk-greeter</title><link href="https://denisnovikov.github.io/blog/customize-login-screen-lightdm-gtk-greeter/" rel="alternate" type="text/html" title="Настройка экрана входа lightdm-gtk-greeter" /><published>2016-08-11T00:00:01+03:00</published><updated>2016-08-11T00:00:01+03:00</updated><id>https://denisnovikov.github.io/blog/customize-login-screen-lightdm-gtk-greeter</id><content type="html" xml:base="https://denisnovikov.github.io/blog/customize-login-screen-lightdm-gtk-greeter/">&lt;p&gt;Множество дистрибутивов сегодня используют в качестве менеджера входа LightDM. Debian (точнее редакция с XFCE) не является исключением. Если вы не пользуетесь автологином, а предпочитаете входить в систему по паролю, то после запуска системы (в данном случае Debian) вас каждый раз будет встречать экран входа, примерно такой, как показан на скриншоте ниже:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-01.png&quot;&gt;&lt;img src=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-01.png&quot; alt=&quot;Экран входа по-умолчанию&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Это &lt;strong&gt;lightdm-gtk-greeter&lt;/strong&gt;. И если честно, выглядит он не очень. В других дистрибутивах использующих данный экран входа, его внешний вид может немного отличаться, но как правило, не очень сильно. Тем не менее не переживайте, если вас смущает стандартный внешний вид lightdm-gtk-greeter, его легко можно изменить, чем мы и займемся в этом HOWTO.&lt;/p&gt;

&lt;h2 id=&quot;Меняем-стандартное-фоновое-изображение-экрана-входа-на-свое&quot;&gt;Меняем стандартное фоновое изображение экрана входа на свое&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;В некоторых дистрибутивах (например Xubuntu) в стандартной поставке могут идти утилиты для настройки экрана
приветствия. Но если их нет или вам не хватает функционала подобных кастомизаторов, можно легко обойтись и ручной
правкой конфига lightdm-gtk-greeter, что и будет показано ниже.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;По сути, все настройки которые мы будим производить, производятся в одном конфигурационном файле — &lt;strong&gt;lightdm-gtk-greeter.conf&lt;/strong&gt;, который лежит (по крайней мере в Debian) в &lt;strong&gt;/etc/lightdm/&lt;/strong&gt;. Открываем его:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;mousepad /etc/lightdm/lightdm-gtk-greeter.conf&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;blockquote&gt;
  &lt;p&gt;Вместо mousepad можете подставить любой другой текстовый редактор.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;После того, как файл откроется, можно его подробно изучить. По большей части он состоит из комментариев и описания параметров, которые можно использовать для настройки данного экрана приветствия. Непосредственно для внесения настроек нам нужен раздел &lt;strong&gt;[greeter]&lt;/strong&gt;. Как можно видеть в нем уже есть часть закомментированных решеткой параметров:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-02.png&quot;&gt;&lt;img src=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-02.png&quot; alt=&quot;Раздел greeter&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Для того, чтобы установить свой фон на экране приветствия, необходимо расскомментировтаь строчку &lt;strong&gt;background&lt;/strong&gt; (удалить символ решетки) и после знака равенства вписать путь к нужному изображению. К примеру, я хочу поставить в качестве фона изображение &lt;strong&gt;background.jpg&lt;/strong&gt;, находящееся по пути &lt;strong&gt;/home/geek/Изображения/&lt;/strong&gt;, значит мне нужно вписать  &lt;strong&gt;/home/geek/Изображения/background.jpg&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-03.png&quot;&gt;&lt;img src=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-03.png&quot; alt=&quot;Устанавливаем фон&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Теперь можно сохранить изменения и выйти из системы. У меня получилось следующее:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-04.png&quot;&gt;&lt;img src=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-04.png&quot; alt=&quot;Результат установленого фона&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;Меняем-тему-и-иконки-на-экране-приветствия&quot;&gt;Меняем тему и иконки на экране приветствия&lt;/h2&gt;

&lt;p&gt;Даже после такого маленького изменения, как замена фона, lightdm-gtk-greeter стал выглядеть намного лучше. Но дабы еще больше подогнать его под общий внешний вид системы, ему также можно установить используемую вами тему и иконки. За это отвечают строчки &lt;strong&gt;theme-name&lt;/strong&gt; и &lt;strong&gt;icon-theme-name&lt;/strong&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;В отличии от изображения фона, которое можно брать из любого каталога, темы рабочего стола и иконок, что вы хотите
установить на экран приветствия должны находится на системном разделе по адресу /usr/share/themes/ для тем и
/usr/share/icons/ для иконок.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Думаю, здесь все понятно — смотрим чтобы нужные нам темы находились в нужных местах и вписываем их названия в соответствующие строчки в lightdm-gtk-greeter.conf:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-05.png&quot;&gt;&lt;img src=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-05.png&quot; alt=&quot;Устанавливаем тему и иконки&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Снова сохраняем файл и проверяем, что получилось:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-06.png&quot;&gt;&lt;img src=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-06.png&quot; alt=&quot;Результат установленой темы и иконок&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;Меняем-положения-окна-логина&quot;&gt;Меняем положения окна логина&lt;/h2&gt;

&lt;p&gt;Ну, что, уже совсем по-другому смотрится? Но можно еще «покрутить» настройки. Например, можно поэкспериментировать с положением окна ввода логина. Изначально оно расположено в центре экрана, но при помощи опции &lt;strong&gt;position&lt;/strong&gt; можно его спозиционировать как-то по-другому. Для этого следует указать в процентах положение от верхнего левого угла: после position= первым указываете положение по оси &lt;strong&gt;X&lt;/strong&gt; и через пробел по &lt;strong&gt;Y&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Мне нравится положение окна логина как в Ubuntu Unity, то есть слева по центру, поэтому я делаю расстояние от левого края экрана в 5%, а положение по Y выставляю 40%:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-07.png&quot;&gt;&lt;img src=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-07.png&quot; alt=&quot;Позиционируем окно логина&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Можно проверить результат:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-08.png&quot;&gt;&lt;img src=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-08.png&quot; alt=&quot;Результат позиционирования&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;Переносим-панель-вниз&quot;&gt;Переносим панель вниз&lt;/h2&gt;

&lt;p&gt;В XFCE у меня панель, на которой располагаются различные апплеты, индикаторы, меню и т.д одна и располагается внизу. Чтобы экран входа не отличался от рабочей системы в нем панель также можно переместить вниз. Для этого есть параметр &lt;strong&gt;panel-position&lt;/strong&gt;, где можно указать два значения: top, либо же нужный нам bottom:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-09.png&quot;&gt;&lt;img src=&quot;/assets/images/linux/customize-login-screen-lightdm-gtk-greeter/customize-login-screen-lightdm-gtk-greeter-09.png&quot; alt=&quot;Переносим панель вниз&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;Итоги&quot;&gt;Итоги&lt;/h2&gt;

&lt;p&gt;Всего лишь с помощью нескольких параметров мы превратили простенький, неказистый lightdm-gtk-greeter, в красивый, выдержанный в едином стиле с системой экран приветствия Debian (а у вас может быть что-нибудь иное) XFCE. Но это далеко не все возможности. Вы также можете настраивать шрифты, масштабирование, количество, а также набор индикаторов на панели и многое другое. В конфиге данного экрана приветствия все довольно просто и понятно написано.&lt;/p&gt;

&lt;p&gt;Даже человек знающий не очень хорошо английский вполне сможет разобраться в описании. Я же со своей стороны привел некий практический урок, чтобы было более понятно. Надеюсь вам это помогло.&lt;/p&gt;</content><author><name>geekkies.in.ua</name></author><category term="linux" /><summary type="html">Множество дистрибутивов сегодня используют в качестве менеджера входа LightDM. Debian (точнее редакция с XFCE) не является исключением. Если вы не пользуетесь автологином, а предпочитаете входить в систему по паролю, то после запуска системы (в данном случае Debian) вас каждый раз будет встречать экран входа, примерно такой, как показан на скриншоте ниже:</summary></entry><entry><title type="html">Беспроводная точка доступа, используя Linux</title><link href="https://denisnovikov.github.io/blog/wireless-access-point-using-linux/" rel="alternate" type="text/html" title="Беспроводная точка доступа, используя Linux" /><published>2013-08-02T22:15:00+04:00</published><updated>2013-08-02T22:15:00+04:00</updated><id>https://denisnovikov.github.io/blog/wireless-access-point-using-linux</id><content type="html" xml:base="https://denisnovikov.github.io/blog/wireless-access-point-using-linux/">&lt;p&gt;Что ж, вот и первая статья из обещанной серии.&lt;/p&gt;

&lt;p&gt;Первое, что я буду делать — настраивать Software AP, или беспроводную сеть на базе компьютера. На этом этапе, конечно, нужен доступ к консоли сервера с правами рута. Кроме того, нужно также подключение к интернету НЕ через внутреннюю вайфай-карточку — кабелем, через 3G-модем, короче, как пожелаете, но только не по вайфаю, который мы будем использовать для создания беспроводной сети. Я на первое время подключил и сервер, и ноут, с которого управлял сервером, в одну сеть по кабелю — так надёжнее всё-таки. Буду использовать пакет hostapd — он довольно известен как надёжное решение и мануалов под него достаточно, а для DHCP и DNS серверов буду использовать dnsmasq — решение как раз под домашние сети, его использует DD-WRT, не удивлюсь, если кто-то ещё.&lt;/p&gt;

&lt;h2 id=&quot;Самый-первый-шаг-конечно-же&quot;&gt;Самый первый шаг, конечно же&lt;/h2&gt;

&lt;p&gt;Установка:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get install hostapd&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Версия:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;hostapd &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;hostapd v1.0&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Мда, в исходниках уже есть 2.0. Такой он, Debian stable. Но на самом деле это нам не особо помешает — версия 1.0 у меня работает достаточно стабильно.&lt;/p&gt;

&lt;h2 id=&quot;Настройка&quot;&gt;Настройка&lt;/h2&gt;

&lt;p&gt;Отредактировать файл /etc/default/hostapd.conf. В нём раскомментировать строку вида&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;DAEMON_CONF&lt;/span&gt;=&lt;span class=&quot;s2&quot;&gt;&quot;/etc/hostapd/hostapd.conf&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Это путь к файлу конфигурации демона hostapd.&lt;/p&gt;

&lt;p&gt;Затем идем дальше — редактировать &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/hostapd/hostapd.conf&lt;/code&gt;. Предоставлю содержимое моего файла конфигурации. Предупреждаю, парсер конфигурационных опций у этого демона очень чувствителен и ругается даже на пустые строки с пробелом. На комментарии не ругается.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;interface&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;wlan0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Сетевой интерфейс беспроводной карты&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;nl80211&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Драйвер сетевой карты — обычно для hostapd отлично работает nl80211, не вижу смысла менять, да и говорят, что он работает в большинстве случаев.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;ssid&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;CRWiFi&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Название точки доступа, т.н. SSID&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;hw_mode&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Режим работы сетевой карты — 801.11b/g/n. На самом деле — там всегда должно оставаться g, даже если карта способна на n, для настройки режима n придётся кое-что поменять, смотрите дальше:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;c&quot;&gt;#ieee80211n=1 #Раскомментировать для включения режима n&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ht_capab&lt;/span&gt;=[&lt;span class=&quot;n&quot;&gt;HT40&lt;/span&gt;-][&lt;span class=&quot;n&quot;&gt;SHORT&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;GI&lt;/span&gt;-&lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;] &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;Раскомментировать для включения режима &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Беспроводной канал — от 1 до 13. Для лучшей производительности рекомендуются 1, 6 или 11 канал.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;wpa&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;Версия WPA&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;wpa_passphrase&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;11111111&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;Пароль-беспроводной-точки&quot;&gt;Пароль беспроводной точки&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Дополнительные настройки WPA2:&lt;/strong&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;wpa_key_mgmt&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;WPA&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;PSK&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;wpa_pairwise&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;TKIP&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;rsn_pairwise&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;CCMP&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;auth_algs&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Следующая опция устанавливает блокировку MAC-адресов. Пока не знаю, как это настроить, да и штука довольно бесполезная, но все говорят, что без блокировки эту опцию нужно выставить в ноль — что я и сделал:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;macaddr_acl&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Полный конфиг одним блоком для копипаста в файл:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;interface&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;wlan0&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;nl80211&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;ssid&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;CRWiFi&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;hw_mode&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;#ieee80211n=1 #Раскомментировать для включения режима n&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;#ht_capab=[HT40-][SHORT-GI-40] #Раскомментировать для включения режима n&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;channel&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;wpa&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;wpa_passphrase&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;11111111&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;wpa_key_mgmt&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;WPA&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;PSK&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;wpa_pairwise&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;TKIP&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;rsn_pairwise&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;CCMP&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;auth_algs&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;macaddr_acl&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Конфиг автоматически проверяется перед запуском, так что — смело пробуйте запустить hostapd. Команды управления:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;c&quot;&gt;# /etc/init.d/hostapd start&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# /etc/init.d/hostapd stop&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; /&lt;span class=&quot;n&quot;&gt;etc&lt;/span&gt;/&lt;span class=&quot;n&quot;&gt;init&lt;/span&gt;.&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;/&lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;restart&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Напомню — также в Debian можно использовать команды вида service hostapd start, что легче в написании.&lt;/p&gt;

&lt;h2 id=&quot;Пару-шагов-для-устойчивости&quot;&gt;Пару шагов для устойчивости&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Нельзя забывать, что для шифрования WPA/WPA2 пароль должен быть не короче 8 символов. Если поменять пароль на лету, используя SSH сессию через беспроводной канал, можно внезапно отрезать себя от сервера — hostapd не захочет запускаться и единственное средство связи с сервером будет потеряно. Работает — не трогай, ну а если трогаешь — трогай осторожно.&lt;/li&gt;
  &lt;li&gt;В случае многопользовательской системы советую поставить права чтения файлов вида 700, чтобы простые пользователи не могли узнать пароль для точки доступа — если вас это волнует, конечно.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Что ещё могу сказать? С мобильными устройствами проблем нет, с ноутбуком под Windows 7 — крайне редко (примерно раз-два в месяц) не получается подключиться к точке. Лечится командой service hostapd restart, велика вероятность, что в новых релизах эта проблема убрана — есть версия hostapd 2.0.0, но компилировать и ставить её я пока что не пытался.&lt;/p&gt;

&lt;p&gt;Пока всё. К точке можно попробовать подключиться, но… Для успешного подключения к точке доступа нужен DHCP сервер, без него к точке полноценно не подключишься — те же операционные системы не дадут этого сделать, поскольку без получения адреса само подключение не имеет особого смысла. Вот его и настроим!&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Когда я только начинал учиться настраивать сервера под свои нужды, первое, на что я тогда я наткнулся — это пакет isc-dhcp-server, его я и планировал предложить, и статья уже была готова, но… Я нашёл dnsmasq, и моя жизнь изменилась в лучшую сторону. Dnsmasq — это и кэширующий DNS, и DHCP сервер со своим набором различных фич. Как только я заглянул в его конфиг, мое зрение улучшилось, все мысли в мозгу внезапно стали упорядоченными и я достиг просветления. Реально, конфиг очень простой и понятный. Но пока подготавливаем площадку для работы dnsmasq. Что же делать?&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Придумать, как будут выглядеть адреса в нашей локальной сети. Я выбрал адреса типа 192.168.51.x.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Настроить сетевой интерфейс, на котором будет работать dnsmasq. На самом деле — очень важный шаг, который пропускают многие в своих мануалах по настройке DHCP-серверов. Дело в том, что компьютеру, на котором работает DHCP-сервер, необходимо прописать статический адрес — кто выдаст адрес DHCP-серверу, если он сам не может запуститься без адреса, а адрес себе он выдать не может, потому что не запущен?&lt;/p&gt;

&lt;p&gt;Итак, открываем для редактирования файл /etc/network/interfaces и добавляем туда абзац вида:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;auto&lt;/span&gt; наш&lt;span class=&quot;err&quot;&gt;_&lt;/span&gt;интерфейс&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;iface&lt;/span&gt; наш&lt;span class=&quot;err&quot;&gt;_&lt;/span&gt;интерфейс &lt;span class=&quot;n&quot;&gt;inet&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;address&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.х.&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;netmask&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;255&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;255&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;255&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;gateway&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.х.&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Сохраняем и перезапускаем наш сетевой интерфейс, на котором настроен DHCP:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;ifdown&lt;/span&gt; интерфейс&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;ifup&lt;/span&gt; интерфейс&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Проверяем состояние, сверяем настройки с теми, что должны быть:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;ifconfig&lt;/span&gt; интерфейс&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;p&gt;Нужно удалить любые DNS и DHCP серверы, чтобы dnsmasq мог спокойно запуститься — иначе выдаёт ошибку. У меня были установлены bind9 и isc-dhcp-server, пришлось избавиться от них. Если работаем по SSH из сети, в которой раньше адреса раздавал покойный DHCP-сервер, не перезагружаемся — выдавать адреса уже некому.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Нужно создать условия для работы сервера — создать пользователя для того, чтобы под ним запускать dnsmasq, прописать в системных настройках DNS-сервера, к которым dnsmasq будет обращаться и ещё пару мелочей.&lt;/p&gt;

&lt;p&gt;Прописываем DNS сервера Гугла. Правда, первой строчкой у нас будет localhost. Это сделано для того, чтобы остальные системные приложения на нашем же сервере, когда им надо получить адрес от DNS-сервера, обращались сначала к dnsmasq, а не к Гуглу. Ну а dnsmasq достаточно умён, чтобы игнорировать эту строчку:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;nano /etc/resolv.conf&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;nameserver&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;nameserver&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;nameserver&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Нужно защитить это файл от перезаписи при каждом запуске системы. Перезаписывает его dhclient, если что. Честно говоря, блокировка от записи — лишь один из способов того, как не допустить перезапись =) Есть и другие, но этот самый простой:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;chattr +i /etc/resolv.conf&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Что же, если вы по каким-либо причинам считаете блокирование файла неверным путём или также хотите использовать DNS, которые столь настойчиво предлагает dhclient? Тогда, как советует &lt;a href=&quot;http://habrahabr.ru/users/merlin-vrn/&quot;&gt;@merlin-vrn&lt;/a&gt;, нужно использовать программу resolvconf.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Настройка resolvconf&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Если пакет resolvconf ещё не установлен, устанавливаем. Единственное, что нужно для того, чтобы прописать статический адрес DNS для системы — отредактировать /etc/resolvconf/resolv.conf.d/base, вписав туда всё, что мы бы вписали в &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/resolv.conf&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;n&quot;&gt;nameserver&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;nameserver&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;nameserver&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;service resolvconf reload&lt;/code&gt; — готово!&lt;/p&gt;

&lt;p&gt;Добавляем группу и пользователя:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;# groupadd -r dnsmasq&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# useradd -r -g dnsmasq dnsmasq&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;p&gt;Ставим Dnsmasq, он запускается и готов к работе, но мы его отключаем — ещё не настроен, нечего ему тут делать:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;# apt-get install dnsmasq&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# service dnsmasq stop&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;p&gt;Чистим оригинальный файл от стандартного конфига:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;# echo &quot;&quot;&amp;gt;/etc/dnsmasq.conf&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Ну а теперь мы готовы настраивать. Скажу сразу — у dnsmasq много разных опций, которые я при написании статьи подробно описывал в комментариях… Пока не понял, что топик раздулся до неприличных и нечитаемых размеров, как будто недостаточно того, что статья и так переполнена текстом и отформатирована, как кусок незнамо чего. Поэтому — я оставлю конфиг с самыми важными без длинных комментариев и всяких дополнительных опций, а конфиг с дополнительными опциями будет под спойлером.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;c&quot;&gt;# Заставим dnsmasq запускаться исключительно под пользователем dnsmasq&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;##&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Настраиваем DNS. Не нужен - смело выкидываем эту часть&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;##&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Настройка DNS - чтобы отключить DNS, поставьте тут 0&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Если же хотите расположить DNS на нестандартном порту - что ж, располагайте&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;53&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Размер кэша. Число обозначает количество хранимых доменных имён&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Не спрашивать у внешнего DNS про имена без точки вроде homeserver, user-pc и прочие -&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# ему и так плохо, бедному, а ещё мы тут со своими заведомо локальными адресами...&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;domain&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;needed&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Что-то вроде предыдущего, тоже не даёт обращаться к глобальным DNS-серверам со всякой нелепицей в запросе&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bogus&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;priv&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Интерфейс для приёма DHCP и DNS запросов.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;interface&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;wlan0&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# А вот этого интерфейса избегать, как чумы:&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;except&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;interface&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;ppp0&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# На всякий случай, мало ли глюк и сервер реально будет раздавать на ppp0, размахивая своим dhcp-authoritative.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;##&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Настраиваем DHCP. НЕ нужен - смело выкидываем эту часть.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;##&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Одна из самых главных строчек:&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# она своим лишь присутствием запускает DHCP-сервер,&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# заодно передавая ему размер пула адресов&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# 12h значит то, что срок аренды адреса по умолчанию - 12 часов.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Соответственно, 12m - 12 минут, всё просто.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dhcp&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;51&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;51&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;150&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Статический адрес. Указаны только MAC и IP:&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dhcp&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;22&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;33&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;44&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;55&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;66&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;51&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Статический адрес. Указаны MAC, hostname, IP и индивидуальное время аренды.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Да-да, вы поняли тему =) Всё решается одной строчкой:&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dhcp&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;22&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;33&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;44&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;55&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;66&lt;/span&gt;,&lt;span class=&quot;n&quot;&gt;fred&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;51&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Заблокировать выдачу IP-адреса для этого MAC-адреса:&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dhcp&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;22&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;33&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;44&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;55&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;66&lt;/span&gt;,&lt;span class=&quot;n&quot;&gt;ignore&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Я лучше заблокирую - не, ну он выглядит реально подозрительно!&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Объявляем, что наш сервер - властитель нашей локальной сети и ни один другой не может быть подобным ему.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# НЕ ДЕЛАЙТЕ ЭТОГО, если есть такие же самопровозглашённые претенденты на трон -&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# можно порушить королевство, где выдаются IP-адреса&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# А вот для моего сервера это необходимо, чтобы уменьшить время получения IP для устройств&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dhcp&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;authoritative&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Расширенные опции:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-conf&quot; data-lang=&quot;conf&quot;&gt;&lt;span class=&quot;c&quot;&gt;# А тут можно немного подкорректировать то, что отдаёт DNS.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# IPv4-only.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Поправим 1.2.3.4 на 5.6.7.8!&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# А если 1.2.3.x на 5.6.7.x? Ну тут уже нужна маска сети!&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;255&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;255&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;255&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Ну а если мы вообще хотим перенаправить блок 192.168.0.10-&amp;gt;192.168.0.40 на 10.0.0.10-&amp;gt;10.0.0.40?&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alias&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;-&lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;255&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;255&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;255&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Всё, можно устраивать у себя свой Spamhaus и блокировать целыми блоками адресов, перенаправляя на что-нибудь ещё.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Небольшой срыв покровов. Dnsmasq открывает порты на всех интерфейсах -&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# даже если сказано только про некоторые. Затем он просто игнорирует ненужные.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Это, как говорят, сделано для удобства. Если честно - мне кажется, что&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# в нашем случае никакого удобства не будет.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Следующая опция принуждает dnsmasq не притворяться и слушать только на тех интерфейсах,&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# которые реально предназначены для этого.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bind&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;interfaces&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Интересная настройка! У нас же DNS, хоть и использующий общую базу адресов -&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# а это значит, что он может отдавать такие запросы, какие мы его попросим.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Угадайте, что делает эта опция?&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;address&lt;/span&gt;=/&lt;span class=&quot;n&quot;&gt;vk&lt;/span&gt;.&lt;span class=&quot;n&quot;&gt;com&lt;/span&gt;/&lt;span class=&quot;m&quot;&gt;127&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Даа! Вместо ВК будет показываться гордое &quot;It works!&quot;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Ходют тут всякие, трафик наш тратят.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Ну и что, что безлимитный? =D&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Использоваться, конечно, может не только для блокировки на уровне DNS,&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# но и для того, чтобы просто задать сетевое имя машине в локальной сети.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Стоп, а зачем делать это в самом конфиге?&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Одна из прикольных фишек dnsmasq как DNS-сервера:&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# читать файл /etc/hosts и все записи из него отдавать на соответствующие DNS-запросы.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Можно не только удовлетворять запросы активизации KMS Microsoft Office&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# и прочего софта с онлайн-активацией,&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# но и блокать рекламу ещё до того, как она дойдёт до нашего сервера.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Ну а зачем пихать всё сразу в hosts? Можно добавить внешний файлик с записями! И не один!&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addn&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;hosts&lt;/span&gt;=/&lt;span class=&quot;n&quot;&gt;etc&lt;/span&gt;/&lt;span class=&quot;n&quot;&gt;banner_add_hosts&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Естественно, он по синтаксису должен быть в точности как hosts.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# А если идея c hosts, на ваш взгляд, неуместна, некультурна и вообще моветон?&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Используйте следующую опцию и отключите эту фишку.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;no&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;hosts&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Интересная фишка, подходящая для ноутбуков с двумя сетевыми картами - проводной и беспроводной.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Заключается она в том, что на два разных MAC-адреса выдаётся один IP-адрес.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Правда, при этом подразумевается то, что два типа связи не будут использоваться одновременно -&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# если подключатся оба, то адрес получит второй MAC в строке.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Всё очень просто - MA:CA:DD:RE:SS:00,MA:CA:DD:RE:SS:01,12.34.56.78&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dhcp&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;22&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;33&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;44&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;55&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;66&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;34&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;56&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;78&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;90&lt;/span&gt;:&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Дать бесконечный lease клиенту c hostname bert.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dhcp&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;bert&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;70&lt;/span&gt;,&lt;span class=&quot;n&quot;&gt;infinite&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# На закуску - эта опция отвечает за &quot;белый список&quot;.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Всё просто - адреса будут выдаваться только тем, кому вы выдали статический в этом файле.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Остальные со своими грязными DHCPDISCOVER пролетают.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dhcp&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;ignore&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;tag&lt;/span&gt;:!&lt;span class=&quot;n&quot;&gt;known&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Размер пула DHCP-адресов. Интересно, почему эта настройка не задаётся согласно address range.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dhcp&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;lease&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;640&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;#640 адресов хватит каждому&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# На самом деле - большинству вообще не понадобится больше 100, но это мелочи.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Интересная опция. Запускает скрипт при каждой выдаче адреса DHCP и истечении срока выдачи&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# Аргументы: script add MA:CA:DD:RE:SS:00 12.34.56.78 hostname(если есть) (при добавлении)&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;# или script del MA:CA:DD:RE:SS:00 12.34.56.78 hostname(если есть) (при удалении)&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dhcp&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;script&lt;/span&gt;=/&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;/&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Если подумать - есть пара интересных применений. Вроде голосового оповещения при подключении =D&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;span class=&quot;c&quot;&gt;# Адрес NTP-сервера для машин в сети. Ещё не поставил - но обязательно поставлю, делов-то.&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dhcp&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;option&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;42&lt;/span&gt;,&lt;span class=&quot;m&quot;&gt;192&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;168&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;51&lt;/span&gt;.&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Ага, сервер настроен. Запускаем:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;# service dnsmasq start&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;и смотрим на наличие ошибок в выводе команды. Если нет — всё отлично! Пробуем что-нибудь подключить к нашей точке и смотрим, как выдаются IP-адреса, пингуем и проверяем DNS. Файл со списком выданных адресов: &lt;code class=&quot;highlighter-rouge&quot;&gt;/var/lib/misc/dnsmasq.leases&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;В следующей статье — подключение 3G-модема и конфигурация простого, но стабильного NAT/firewall на iptables. Удачной настройки!&lt;/p&gt;

&lt;p&gt;Критика по содержанию, удобочитаемости и форматированию статьи более, чем уместна.&lt;/p&gt;</content><author><name>habrahabr.ru</name></author><category term="linux" /><summary type="html">Что ж, вот и первая статья из обещанной серии.</summary></entry><entry><title type="html">Статьи про переносной сервер на Linux для новичков — нужны ли?</title><link href="https://denisnovikov.github.io/blog/articles-about-portable-server-on-linux-for-beginners-do-we-need-it/" rel="alternate" type="text/html" title="Статьи про переносной сервер на Linux для новичков — нужны ли?" /><published>2013-07-28T15:36:00+04:00</published><updated>2013-07-28T15:36:00+04:00</updated><id>https://denisnovikov.github.io/blog/articles-about-portable-server-on-linux-for-beginners-do-we-need-it</id><content type="html" xml:base="https://denisnovikov.github.io/blog/articles-about-portable-server-on-linux-for-beginners-do-we-need-it/">&lt;p&gt;В этой серии статей я буду рассказывать, как сделать свой переносной сервер на Linux из нетбука EEE Pc 701, способный для множества задач, как то:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Раздача 3G-интернета с USB-модема&lt;/strong&gt; (да, в принципе, хоть с тостера) &lt;strong&gt;через вайфай-карточку&lt;/strong&gt;, плюс использование внешних прокси и VPN прозрачно для пользователя;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Безопасный файловый сервер&lt;/strong&gt; — защита от вирусов и тому подобное;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Проверка вайфай-сетей&lt;/strong&gt;, да и практически чего угодно, защищённого паролем, &lt;strong&gt;на прочность&lt;/strong&gt;;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Система голосового оповещения&lt;/strong&gt;;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Система распознавания голоса&lt;/strong&gt; и, соответственно, управления голосом;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Переносной медиапроигрыватель&lt;/strong&gt; и будильник;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Стационарный телефон&lt;/strong&gt; (хотелось бы задействовать внутренний модем);&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Сервер видеонаблюдения и потокового вещания звуков с микрофона&lt;/strong&gt; — может иногда быть крайне полезно, если нужно кого-то подслушать;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Девайс для починки роутеров со слетевшими прошивками&lt;/strong&gt;, используя TFTP и USB-UART преобразователь, ну и пару скриптов для облегчения своих стараний;&lt;/li&gt;
  &lt;li&gt;Много чего интересного, что только взбредёт в голову.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Статьи будут предназначены для тех, кто не боится компьютеров и готов экспериментировать. Для экспериментов я выберу нетбук Asus EEE Pc 701 4G с системой Debian — мне он достался с разбитым экраном по символической цене в 25$, поэтому я сразу загорелся идеей сделать из него переносной сервер, который сможет выживать в довольно суровых условиях. В принципе, ноутбуку при падении особо нечего терять, кроме жёсткого диска и экрана, но экран разбит, а жёсткий диск в этом ноутбуке отсутствует в принципе — вместо него внутри встроена флешка на 4 гигабайта, которая и послужит системным диском. Батареи для этого ноутбука недороги, около 20 долларов на dx.com, и я с удовольствием прикуплю ещё парочку, благо они маленького размера — всё для портативности. Также я планирую заняться небольшим моддингом этого ноутбука — допаять внутренние USB-порты, а к ним подключить что-нибудь функциональное, вроде Bluetooth адаптера. Для чего мне это надо?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Портативность. Столько самых необходимых в моей жизни функций в моей сумке иметь очень удобно;&lt;/li&gt;
  &lt;li&gt;Получение опыта работы с системой Debian. Не скажу, конечно, что у меня его совсем нет, но всё же хочется больше;&lt;/li&gt;
  &lt;li&gt;Масса веселья при настройке и использовании — будут обязательно;&lt;/li&gt;
  &lt;li&gt;Получится просто классный гаджет, который облегчит жизнь.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;Что-есть&quot;&gt;Что есть&lt;/h2&gt;

&lt;h3 id=&quot;Информация-о-системе&quot;&gt;Информация о системе&lt;/h3&gt;

&lt;p&gt;Debian 7&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;uname &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt;:&lt;br data-jekyll-commonmark-ghpages=&quot;&quot; /&gt;Linux localhost 3.2.0-4-486 &lt;span class=&quot;c&quot;&gt;#1 Debian 3.2.41-2 i686 GNU/Linux&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Никакая оболочка рабочего стола не установлена, поскольку в ней элементарно нет смысла — экран разбит напрочь, да и делать всё необходимое спокойно можно через SSH. Аккаунт буду использовать рутовый — просто нет смысла создавать ещё один, так как систему планируется однажды настроить и больше не использовать — смысл тогда делать аккаунт для пользователя? Мой любимый язык программирования — Python, но использовать для программной части я буду Bash — скрипты на Bash в большинстве своём удобнее для задач автоматизации в Линуксе.&lt;/p&gt;

&lt;p&gt;Батарея неопределённой ёмкости — возможно, что и уже значительно подсела, не могу протестировать это с Windows XP и Everest, чтобы получить детализированную информацию об ожидаемом времени работы и прочем. Однако при включенном и настроенном энергосбережении работает сравнительно долго — часа 2 точно.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Вайфай-карта Atheros AR242x / AR542x;&lt;/li&gt;
  &lt;li&gt;1 гигабайт оперативной памяти;&lt;/li&gt;
  &lt;li&gt;4 гигабайта на SSD-диске — как ни странно, он всё ещё работает;&lt;/li&gt;
  &lt;li&gt;Модем для аналоговой телефонной линии, встроенный. Мне, правда, пришлось найти подходящий и поставить внутрь, но при наличии отвёртки это не проблема;&lt;/li&gt;
  &lt;li&gt;Встроенные динамики и микрофон, Ethernet 100/10 Mbps, VGA-out, 3xUSB (+ 2 нераспаянных внутри), SATA — нераспаянный внутри;&lt;/li&gt;
  &lt;li&gt;3G модем от одного латвийского провайдера;&lt;/li&gt;
  &lt;li&gt;Терпение.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;Что-планируется&quot;&gt;Что планируется&lt;/h2&gt;

&lt;h3 id=&quot;Сделать-несколько-железных-модов-нетбука&quot;&gt;Сделать несколько железных модов нетбука&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Внутренний инфракрасный порт для управления с пульта — нет смысла каждый раз использовать SSH или клавиатуру вслепую, а вот мелкий пульт был бы идеален;&lt;/li&gt;
  &lt;li&gt;E-SATA порт, используя нераспаянные контакты SATA на материнской плате;&lt;/li&gt;
  &lt;li&gt;Возможно, банальное расширение жёсткого диска (флешка для пользовательских данных внутри) и встроенный Bluetooth.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;Сделать-из-ноутбука-почти-что-полноценный-переносной-сервер&quot;&gt;Сделать из ноутбука почти что полноценный переносной сервер&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Создание WiFi-точки доступа;&lt;/li&gt;
  &lt;li&gt;Настройка DHCP-сервера;&lt;/li&gt;
  &lt;li&gt;Маршрутизация между двумя интерфейсами — внешним и локальным;&lt;/li&gt;
  &lt;li&gt;Подключение 3G модема;&lt;/li&gt;
  &lt;li&gt;Загрузка по сети для других машин;&lt;/li&gt;
  &lt;li&gt;Видеонаблюдение;&lt;/li&gt;
  &lt;li&gt;Файловый сервер;&lt;/li&gt;
  &lt;li&gt;Голосовое оповещение.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;Прочие-цели&quot;&gt;Прочие цели&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Hydra для подбора паролей и прочего;&lt;/li&gt;
  &lt;li&gt;Связка из Aircrack, Reaver и других прикольных штук — конечно же, пентестинг и только пентестинг;&lt;/li&gt;
  &lt;li&gt;Система распознавания голоса на основе CMU Sphinx;&lt;/li&gt;
  &lt;li&gt;Проигрывание музыки (ну а почему бы и нет?);&lt;/li&gt;
  &lt;li&gt;To be continued.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;Необходимые-допилы&quot;&gt;Необходимые допилы&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Настройка энергосбережения;&lt;/li&gt;
  &lt;li&gt;Очистка места на жёстком диске (удаление ненужных пакетов и запасных файлов, ну и там по мелочи);&lt;/li&gt;
  &lt;li&gt;To be continued.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;Итак-вопрос&quot;&gt;Итак, вопрос&lt;/h2&gt;

&lt;p&gt;Хотелось бы обитателям Хабрахабра прочитать цикл статей по подобным темам? Я работаю над статьями в своё свободное время и надеюсь, что они помогут новичкам в Linux освоить прикладное использование различных пакетов в условиях подобных серверов, возможно, встроенных или же переносных, как у меня, и постичь часть интереснейших деталей конструктора, коим являются системы на базе Linux. Конечно же, эти статьи могут пригодиться для тех же переносных компьютеров на базе Raspberry Pi или других становящихся популярными платформ — да и вообще для всего, на что можно поставить Linux и подключить к сети — те же тостеры не исключение. После этих статей я, возможно, начну книгу, которая  поможет пользователю, ни разу в жизни не сталкивавшемуся с системой Linux, но работавшему с Windows, освоить Linux как  минимум до уровня новичка, но, видимо, это будет темой уже для отдельного блога — на Хабре всё же в большей части люди  более-менее знакомы с этой системой или имеют о ней представление. Будет востребовано или нет? Вот в чём вопрос.&lt;/p&gt;</content><author><name>habrahabr.ru</name></author><category term="linux" /><summary type="html">В этой серии статей я буду рассказывать, как сделать свой переносной сервер на Linux из нетбука EEE Pc 701, способный для множества задач, как то:</summary></entry></feed>